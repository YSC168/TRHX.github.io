<!--      　　　___           ___           ___           ___           ___                    ___           ___       ___           ___     
　　　　　　   /\  \         /\  \         /\__\         |\__\         /\  \                  /\  \         /\__\     /\  \         /\  \    
  　　　　　　 \:\  \       /::\  \       /:/  /         |:|  |       /::\  \                /::\  \       /:/  /    /::\  \       /::\  \   
          　　  \:\  \     /:/\:\  \     /:/__/          |:|  |      /:/\ \  \              /:/\:\  \     /:/  /    /:/\:\  \     /:/\:\  \  
          　　  /::\  \   /::\~\:\  \   /::\  \ ___      |:|__|__   _\:\~\ \  \            /::\~\:\__\   /:/  /    /:/  \:\  \   /:/  \:\  \ 
          　　 /:/\:\__\ /:/\:\ \:\__\ /:/\:\  /\__\ ____/::::\__\ /\ \:\ \ \__\          /:/\:\ \:|__| /:/__/    /:/__/ \:\__\ /:/__/_\:\__\
        　　  /:/  \/__/ \/_|::\/:/  / \/__\:\/:/  / \::::/~~/~    \:\ \:\ \/__/          \:\~\:\/:/  / \:\  \    \:\  \ /:/  / \:\  /\ \/__/
        　　 /:/  /         |:|::/  /       \::/  /   ~~|:|~~|      \:\ \:\__\             \:\ \::/  /   \:\  \    \:\  /:/  /   \:\ \:\__\  
        　　 \/__/          |:|\/__/        /:/  /      |:|  |       \:\/:/  /              \:\/:/  /     \:\  \    \:\/:/  /     \:\/:/  /  
        　　                |:|  |         /:/  /       |:|  |        \::/  /                \::/__/       \:\__\    \::/  /       \::/  /   
        　　                 \|__|         \/__/         \|__|         \/__/                  ~~            \/__/     \/__/         \/__/    

   ┌───┐   ┌───┬───┬───┬───┐   ┌───┬───┬───┬───┐   ┌───┬───┬───┬───┐  ┌───┬───┬───┐
   │ Esc  │   │  F1  │  F2  │  F3  │  F4  │   │  F5  │  F6  │  F7  │  F8  │   │  F9  │ F10  │ F11  │ F12  │  │ P/S  │ S L  │ P/B  │
   └───┘   └───┴───┴───┴───┘   └───┴───┴───┴───┘   └───┴───┴───┴───┘  └───┴───┴───┘
   ┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───────┐ ┌───┬───┬───┐
   │ ~ `  │ ! 1  │ @ 2  │ # 3  │ $ 4  │ % 5  │ ^ 6  │ & 7  │ * 8  │ ( 9  │ ) 0  │ _ -  │ + =  │    BacSp     │ │ Ins  │ Hom  │ PUp  │
   ├───┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─────┤ ├───┼───┼───┤
   │   Tab    │  Q   │  W   │  E   │  R   │  T   │  Y   │  U   │  I   │  O   │  P   │ { [  │ } ]  │   | \    │ │ Del  │ End  │ PDn  │
   ├─────┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴─────┤ └───┴───┴───┘
   │    Caps    │  A   │  S   │  D   │  F   │  G   │  H   │  J   │  K   │  L   │ : ;  │ " '  │     Enter      │
   ├──────┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴────────┤         ┌───┐
   │     Shift      │  Z   │  X   │  C   │  V   │  B   │  N   │  M   │ < ,  │ > .  │ ? /  │       Shift        │         │  ↑  │
   ├─────┬──┴─┬─┴──┬┴───┴───┴───┴───┴───┴──┬┴───┼───┴┬────┬────┤ ┌───┼───┼───┐
   │   Ctrl   │        │  Alt   │                     Space                    │   Alt  │   Fn   │   ＝   │  Ctrl  │ │  ←  │  ↓  │  →  │
   └─────┴────┴────┴───────────────────────┴────┴────┴────┴────┘ └───┴───┴───┘

              写字楼里写字间，写字间里程序员；程序人员写程序，又拿程序换酒钱。酒醒只在网上坐，酒醉还来网下眠；酒醉酒醒日复日，网上网下年复年。
              但愿老死电脑间，不愿鞠躬老板前；奔驰宝马贵者趣，公交自行程序员。别人笑我忒疯癫，我笑自己命太贱；不见满街漂亮妹，哪个归得程序员？
-->
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  <title>Python 数据分析三剑客之 Matplotlib（十一）：最常用最有价值的 50 个图表【译文】 | TRHX&#39;S BLOG</title>
  
  <meta name="keywords" content="Python爬虫,数据分析,数据可视化,web前端,Java,Python,HTML,软件工程,大学生,hexo,GitHubPages,CodingPages">
  
  
  <meta name="description" content="Python 数据分析三剑客之 Matplotlib（十一）：最常用的、最有价值的 50 个图表【译文】。, TRHX 的个人博客；主攻 Python、爬虫、WEB前端、大数据、数据分析、数据可视化；求知若饥，虚心若愚，一入 IT 深似海，从此学习无绝期，记录毕生所学！">
  

  
  <link rel="alternate" href="/atom.xml" title="TRHX'S BLOG">
  

  <meta name="HandheldFriendly" content="True" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <!-- meta -->
  
  
  <meta name='theme-color' content='#f24e32'>
  <meta name='msapplication-TileColor' content='#f24e32'>
  <meta name='msapplication-config' content='https://cdn.jsdelivr.net/gh/xaoxuu/assets@master/favicon/favicons/browserconfig.xml'>
  
  <!-- 360 -->
  <meta name="360-site-verification" content="d98acd5dccc92e495179410dd58186be" />
  <!-- 360自动收录 -->
  <script>
    (function () {
      var src = "https://jspassport.ssl.qhimg.com/11.0.1.js?d182b3f28525f2db83acfaaf6e696dba";
      document.write('<script src="' + src + '" id="sozz"><\/script>');
    })();
  </script>
  <!-- sogou -->
  <meta name="sogou_site_verification" content="l0yGeAV56W" />
  <!-- link -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.css">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.6.3/css/all.min.css">
  
  
  <link rel='shortcut icon' type='image/x-icon' href='https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.0.4/images/favicon.ico'>
  <link rel='icon' type='image/x-icon' sizes='32x32' href='https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.0.4/images/favicon-32x32.png'>
  <link rel='apple-touch-icon' type='image/png' sizes='180x180' href='https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.0.4/images/apple-touch-icon.png'>
  <link rel='mask-icon' color='#f24e32' href='https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.0.4/images/safari-pinned-tab.svg'>
  <link rel='manifest' href='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-favicon@19.9.7/site.webmanifest'>
  

  
  <link rel="shortcut icon" type='image/x-icon' href="https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.0.4/images/favicon.ico">
  

  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.1.1/css/style.css">
  

  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width = num + "%";
    }
  </script>

  
  
  <!-- ba -->
  <script>
    var _hmt = _hmt || [];
    (function () {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?df0bc7c6bdbd80356ba4db429724ccad";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>
  
  <!-- Google Adsense -->
  <script data-ad-client="ca-pub-1913211097936916" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>
<body>
  
  
<div class="cover-wrapper">
  <cover class='cover post half'>
    
    
  <img class='logo' src='https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.1.1/images/logo.png'/>


  <div class="m_search">
    <form name="searchform" class="form u-search-form">
      <input type="text" class="input u-search-input" placeholder="世界之大，探索一下！" />
      <i class="icon fas fa-search fa-fw"></i>
    </form>
  </div>

<div class='menu navgation'>
  <ul class='h-list'>
    
      
        <li>
          <a class="nav home" href="/"
            
            
            id="home">
            <i class='fas fa-home fa-fw'></i>&nbsp;主页
          </a>
        </li>
      
        <li>
          <a class="nav home" href="/categories/"
            
            
            id="categories">
            <i class='fas fa-folder-open fa-fw'></i>&nbsp;分类
          </a>
        </li>
      
        <li>
          <a class="nav home" href="/tags/"
            
            
            id="tags">
            <i class='fas fa-tags fa-fw'></i>&nbsp;标签
          </a>
        </li>
      
        <li>
          <a class="nav home" href="/friends/"
            
            
            id="friends">
            <i class='fas fa-users fa-fw'></i>&nbsp;朋友
          </a>
        </li>
      
        <li>
          <a class="nav home" href="/comments/"
            
            
            id="comments">
            <i class='fas fa-comments fa-fw'></i>&nbsp;留言
          </a>
        </li>
      
    
  </ul>
</div>

    
    <br>
    <!-- Hitokoto 一言 -->
    <!--<p id="hitokoto"></p>
			<script src="https://cdn.jsdelivr.net/npm/bluebird@3/js/browser/bluebird.min.js"></script>
			<script src="https://cdn.jsdelivr.net/npm/whatwg-fetch@2.0.3/fetch.min.js"></script>
      <script src="https://v1.hitokoto.cn/?encode=js&select=%23hitokoto" defer></script>-->
    <!-- 打字特效 -->
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11"></script>
    <div style="text-align: center;font-weight: bold;color: #1BC3FB;">
      <span id="subtitle"></span>
      <span id="typed-cursor"></span>
    </div>
    <script>
      var typed = new Typed("#subtitle", { strings: ["Live a good life, write some good code !!!", "愿自己的努力终将获得回报。", "花开不是为了花落，而是为了开的更加灿烂。", "没有伞的孩子必须努力奔跑！", "欲望以提升热忱，毅力以磨平高山。", "如果放弃太早，你永远都不知道自己会错过什么。", "没有礁石，就没有美丽的浪花；没有挫折，就没有壮丽的人生。"], startDelay: 1000, typeSpeed: 100, loop: !0, backSpeed: 60, backDelay: 2000, showCursor: !0 })
    </script>
  </cover>
  <header class="l_header pure">
  <div id="loading-bar-wrapper">
    <div id="loading-bar" class="pure"></div>
  </div>

	<div class='wrapper'>
		<div class="nav-main container container--flex">
      <a class="logo flat-box" href='/' >
        
          TRHX'S BLOG
        
      </a>
			<div class='menu navgation'>
				<ul class='h-list'>
          
  					
  						<li>
								<a class="nav flat-box" href="/"
                  
                  
                  id="home">
									<i class='fas fa-home fa-fw'></i>&nbsp;主页
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/archives/"
                  
                  
                  id="archives">
									<i class='fas fa-archive fa-fw'></i>&nbsp;归档
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/friends/"
                  
                  
                  id="friends">
									<i class='fas fa-users fa-fw'></i>&nbsp;朋友
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/comments/"
                  
                  
                  id="comments">
									<i class='fas fa-comments fa-fw'></i>&nbsp;留言
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/about/"
                  
                  
                    target="_blank"
                  
                  id="about">
									<i class='fas fa-info-circle fa-fw'></i>&nbsp;关于
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/box/"
                  
                  
                    target="_blank"
                  
                  id="box">
									<i class='fas fa-tools fa-fw'></i>&nbsp;百宝箱
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="https://mi.aliyun.com/shop/40012"
                  
                  
                    target="_blank"
                  
                  id="https:mi.aliyun.comshop40012">
									<i class='fas fa-link fa-fw'></i>&nbsp;米店
								</a>
							</li>
      			
      		
				</ul>
			</div>

			
				<div class="m_search">
					<form name="searchform" class="form u-search-form">
						<input type="text" class="input u-search-input" placeholder="搜索" />
						<i class="icon fas fa-search fa-fw"></i>
					</form>
				</div>
			
			<ul class='switcher h-list'>
				
					<li class='s-search'><a class="fas fa-search fa-fw" href='javascript:void(0)'></a></li>
				
				<li class='s-menu'><a class="fas fa-bars fa-fw" href='javascript:void(0)'></a></li>
			</ul>
		</div>

		<div class='nav-sub container container--flex'>
			<a class="logo flat-box"></a>
			<ul class='switcher h-list'>
				<li class='s-comment'><a class="flat-btn fas fa-comments fa-fw" href='javascript:void(0)'></a></li>
        
          <li class='s-toc'><a class="flat-btn fas fa-list fa-fw" href='javascript:void(0)'></a></li>
        
			</ul>
		</div>
	</div>
</header>
	<aside class="menu-phone">
    <header>
		<nav class="menu navgation">
      <ul>
        
          
            <li>
							<a class="nav flat-box" href="/"
                
                
                id="home">
								<i class='fas fa-home fa-fw'></i>&nbsp;主页
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="/archives/"
                
                
                id="archives">
								<i class='fas fa-archive fa-fw'></i>&nbsp;归档
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="/friends/"
                
                
                id="friends">
								<i class='fas fa-users fa-fw'></i>&nbsp;朋友
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="/comments/"
                
                
                id="comments">
								<i class='fas fa-comments fa-fw'></i>&nbsp;留言
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="https://mi.aliyun.com/shop/40012"
                
                
                id="https:mi.aliyun.comshop40012">
								<i class='fas fa-link fa-fw'></i>&nbsp;米店
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="/box/"
                
                
                id="box">
								<i class='fas fa-tools fa-fw'></i>&nbsp;百宝箱
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="https://itrhx.blog.csdn.net/"
                
                
                id="https:itrhx.blog.csdn.net">
								<i class='fab fa-cuttlefish fa-fw'></i>&nbsp;CSDN
							</a>
            </li>
          
       
      </ul>
		</nav>
    </header>
	</aside>
<script>setLoadingBarProgress(40);</script>

</div>

  <div class="l_body">
    <div class='body-wrapper'>
      <div class='l_main'>
  

  
    <article id="post" class="post white-box article-type-post" itemscope itemprop="blogPost">
      


  <section class='meta'>
    
    
      <a title='Python 数据分析三剑客之 Matplotlib（十一）：最常用最有价值的 50 个图表【译文】' href='/2020/06/09/A78-Matplotlib-11/'><img class='thumbnail' src='https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/thumbnail/matplotlib.png'></a>
    
    <div class="meta" id="header-meta">
      
        
  
    <h1 class="title">
      <a href="/2020/06/09/A78-Matplotlib-11/">
        Python 数据分析三剑客之 Matplotlib（十一）：最常用最有价值的 50 个图表【译文】
      </a>
    </h1>
  


      
      <div class='new-meta-box'>
        
          
        
          
            
  <div class='new-meta-item author'>
    <a href="https://www.machinelearningplus.com/author/selva86/" rel="nofollow">
      
        <img src="https://c.disquscdn.com/uploads/users/7256/9757/avatar92.jpg">
      
      <p>Selva Prabhakaran</p>
    </a>
  </div>


          
        
          
            <div class="new-meta-item date">
  <a class='notlink'>
    <i class="fas fa-calendar-alt" aria-hidden="true"></i>
    <p>2020-06-09</p>
  </a>
</div>

          
        
          
            
  
  <div class='new-meta-item category'>
    <a href='/categories/Python-数据分析/Matplotlib/' rel="nofollow">
      <i class="fas fa-folder-open" aria-hidden="true"></i>
      <p>Python 数据分析&nbsp;/&nbsp;Matplotlib</p>
    </a>
  </div>


          
        
          
            
  
    <div class="new-meta-item browse busuanzi">
      <a class='notlink'>
        <i class="fas fa-eye" aria-hidden="true"></i>
        <p>
          <span id="busuanzi_value_page_pv">
            <i class="fas fa-spinner fa-spin fa-fw" aria-hidden="true"></i>
          </span>
        </p>
      </a>
    </div>
  


          
        
          
            
  
    <div class="new-meta-item wordcount">
      <a class='notlink'>
        <i class="fas fa-keyboard" aria-hidden="true"></i>
        <p>字数统计:</p>
        <p>13,611字</p>
      </a>
    </div>
    <div class="new-meta-item readtime">
      <a class='notlink'>
        <i class="fas fa-hourglass-half" aria-hidden="true"></i>
        <p>阅读时长≈</p>
        <p>73分</p>
      </a>
    </div>
  

          
        
          
            

          
        
      </div>
      
        <hr>
      
    </div>
  </section>


      <section class="article typo">
        <div class="article-entry" itemprop="articleBody">
          <p>Matplotlib 系列文章：</p>
<ul>
<li><a href="https://www.itrhx.com/2020/04/10/A68-Matplotlib-01/">Python 数据分析三剑客之 Matplotlib（一）：初识 Matplotlib 与其 matplotibrc 配置文件</a></li>
<li><a href="https://www.itrhx.com/2020/04/12/A69-Matplotlib-02/">Python 数据分析三剑客之 Matplotlib（二）：文本描述 / 中文支持 / 画布 / 网格等基本图像属性</a></li>
<li><a href="https://www.itrhx.com/2020/04/14/A70-Matplotlib-03/">Python 数据分析三剑客之 Matplotlib（三）：图例 / LaTeX / 刻度 / 子图 / 补丁等基本图像属性</a></li>
<li><a href="https://www.itrhx.com/2020/04/16/A71-Matplotlib-04/">Python 数据分析三剑客之 Matplotlib（四）：线性图的绘制</a></li>
<li><a href="https://www.itrhx.com/2020/04/18/A72-Matplotlib-05/">Python 数据分析三剑客之 Matplotlib（五）：散点图的绘制</a></li>
<li><a href="https://www.itrhx.com/2020/04/21/A73-Matplotlib-06/">Python 数据分析三剑客之 Matplotlib（六）：直方图 / 柱状图 / 条形图的绘制</a></li>
<li><a href="https://www.itrhx.com/2020/04/24/A74-Matplotlib-07/">Python 数据分析三剑客之 Matplotlib（七）：饼状图的绘制</a></li>
<li><a href="https://www.itrhx.com/2020/04/30/A75-Matplotlib-08/">Python 数据分析三剑客之 Matplotlib（八）：等高线 / 等值线图的绘制</a></li>
<li><a href="https://www.itrhx.com/2020/06/03/A76-Matplotlib-09/">Python 数据分析三剑客之 Matplotlib（九）：极区图 / 极坐标图 / 雷达图的绘制</a></li>
<li><a href="https://www.itrhx.com/2020/06/08/A77-Matplotlib-10/">Python 数据分析三剑客之 Matplotlib（十）：3D 图的绘制</a></li>
<li><a href="https://www.itrhx.com/2020/06/09/A78-Matplotlib-11/">Python 数据分析三剑客之 Matplotlib（十一）：最热门最常用的 50 个图表</a>【译文】</li>
</ul>
<p>专栏：</p>
<p>【<a href="https://www.itrhx.com/categories/Python-%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/NumPy/">NumPy 专栏</a>】【<a href="https://www.itrhx.com/categories/Python-%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/Pandas/">Pandas 专栏</a>】【<a href="https://www.itrhx.com/categories/Python-%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/Matplotlib/">Matplotlib 专栏</a>】</p>
<p>推荐学习资料与网站：</p>
<p>【<a href="https://www.numpy.org.cn/" target="_blank" rel="noopener">NumPy 中文网</a>】【<a href="https://www.pypandas.cn/" target="_blank" rel="noopener">Pandas 中文网</a>】【<a href="https://www.matplotlib.org.cn/" target="_blank" rel="noopener">Matplotlib 中文网</a>】【<a href="https://github.com/TRHX/Python-quick-reference-table" target="_blank" rel="noopener">NumPy、Matplotlib、Pandas 速查表</a>】</p>
<hr>
<blockquote>
<p>翻译丨<a href="https://itrhx.blog.csdn.net/" target="_blank" rel="noopener">TRHX</a><br>作者丨<a href="https://www.machinelearningplus.com/author/selva86/" target="_blank" rel="noopener">Selva Prabhakaran</a><br>原文丨<a href="https://www.machinelearningplus.com/plots/top-50-matplotlib-visualizations-the-master-plots-python/" target="_blank" rel="noopener">《Top 50 matplotlib Visualizations – The Master Plots (with full python code)》</a></p>
</blockquote>
<hr>
<blockquote>
<p>★ 本文中的示例原作者使用的编辑器为 Jupyter Notebook；<br>★ 译者使用 PyCharm 测试原文中有部分代码不太准确，部分已进行修改，对应有注释说明；<br>★ 运行本文代码，需要安装 Matplotlib 和 Seaborn 等可视化库，其他的一些辅助可视化库已在代码部分作标注；<br>★ 示例中用到的数据均储存在作者的 GitHub：<a href="https://github.com/selva86/datasets" target="_blank" rel="noopener">https://github.com/selva86/datasets</a>，因此运行程序可能需要FQ；<br>★ 译者英文水平有限，若遇到翻译模糊的词建议参考原文来理解。<br>★ 本文50个示例代码已打包为 .py 文件，可直接下载：<a href="https://download.csdn.net/download/qq_36759224/12507219" target="_blank" rel="noopener">https://download.csdn.net/download/qq_36759224/12507219</a></p>
</blockquote>
<hr>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">这里是一段防爬虫文本，请读者忽略。</span></span><br><span class="line"><span class="string">本译文首发于</span> <span class="string">CSDN，作者</span> <span class="string">Selva</span> <span class="string">Prabhakaran，译者</span> <span class="string">TRHX。</span></span><br><span class="line"><span class="string">本文链接：https://itrhx.blog.csdn.net/article/details/106558131</span></span><br><span class="line"><span class="string">原文链接：https://www.machinelearningplus.com/plots/top-50-matplotlib-visualizations-the-master-plots-python/</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="【1x00】介绍（Introduction）"><a href="#【1x00】介绍（Introduction）" class="headerlink" title="【1x00】介绍（Introduction）"></a><font color="#FF0000">【1x00】介绍（Introduction）</font></h2><p>在数据分析和可视化中最常用的、最有价值的前 50 个 Matplotlib 图表。这些图表会让你懂得在不同情况下合理使用 Python 的 Matplotlib 和 Seaborn 库来达到数据可视化效果。</p>
<p>这些图表根据可视化目标的 7 个不同情景进行分组。 例如，如果要想象两个变量之间的关系，请查看“关联”部分下的图表。 或者，如果您想要显示值如何随时间变化，请查看“变化”部分，依此类推。</p>
<p>有效图表的重要特征：</p>
<ul>
<li>在不歪曲事实的情况下传达正确和必要的信息；</li>
<li>设计简单，不必太费力就能理解它；</li>
<li>从审美角度支持信息而不是掩盖信息；</li>
<li>信息没有超负荷。</li>
</ul>
<h2 id="【2x00】准备工作（Setup）"><a href="#【2x00】准备工作（Setup）" class="headerlink" title="【2x00】准备工作（Setup）"></a><font color="#FF0000">【2x00】准备工作（Setup）</font></h2><p>在代码运行前先引入下面的基本设置，当然，个别图表可能会重新定义显示要素。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># !pip install brewer2mpl</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib <span class="keyword">as</span> mpl</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">import</span> warnings; warnings.filterwarnings(action=<span class="string">'once'</span>)</span><br><span class="line"></span><br><span class="line">large = <span class="number">22</span>; med = <span class="number">16</span>; small = <span class="number">12</span></span><br><span class="line">params = &#123;<span class="string">'axes.titlesize'</span>: large,</span><br><span class="line">          <span class="string">'legend.fontsize'</span>: med,</span><br><span class="line">          <span class="string">'figure.figsize'</span>: (<span class="number">16</span>, <span class="number">10</span>),</span><br><span class="line">          <span class="string">'axes.labelsize'</span>: med,</span><br><span class="line">          <span class="string">'axes.titlesize'</span>: med,</span><br><span class="line">          <span class="string">'xtick.labelsize'</span>: med,</span><br><span class="line">          <span class="string">'ytick.labelsize'</span>: med,</span><br><span class="line">          <span class="string">'figure.titlesize'</span>: large&#125;</span><br><span class="line">plt.rcParams.update(params)</span><br><span class="line">plt.style.use(<span class="string">'seaborn-whitegrid'</span>)</span><br><span class="line">sns.set_style(<span class="string">"white"</span>)</span><br><span class="line">%matplotlib inline</span><br><span class="line"></span><br><span class="line"><span class="comment"># Version</span></span><br><span class="line">print(mpl.__version__)  <span class="comment">#&gt; 3.0.0</span></span><br><span class="line">print(sns.__version__)  <span class="comment">#&gt; 0.9.0</span></span><br></pre></td></tr></table></figure>
<h2 id="【3x00】关联（Correlation）"><a href="#【3x00】关联（Correlation）" class="headerlink" title="【3x00】关联（Correlation） "></a><font color="#FF0000">【3x00】关联（Correlation） </font></h2><p>关联图用于可视化两个或多个变量之间的关系。也就是说，一个变量相对于另一个变量如何变化。</p>
<h3 id="【01】散点图（Scatter-plot）"><a href="#【01】散点图（Scatter-plot）" class="headerlink" title="【01】散点图（Scatter plot）"></a><font color="##4876FF">【01】散点图（Scatter plot）</font></h3><p>散点图是研究两个变量之间关系的经典和基本的绘图。如果数据中有多个组，则可能需要以不同的颜色显示每个组。在 Matplotlib 中，您可以使用 <code>plt.scatterplot()</code> 方便地执行此操作。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import dataset </span></span><br><span class="line">midwest = pd.read_csv(<span class="string">"https://raw.githubusercontent.com/selva86/datasets/master/midwest_filter.csv"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Prepare Data </span></span><br><span class="line"><span class="comment"># Create as many colors as there are unique midwest['category']</span></span><br><span class="line">categories = np.unique(midwest[<span class="string">'category'</span>])</span><br><span class="line">colors = [plt.cm.tab10(i/float(len(categories)<span class="number">-1</span>)) <span class="keyword">for</span> i <span class="keyword">in</span> range(len(categories))]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw Plot for Each Category</span></span><br><span class="line">plt.figure(figsize=(<span class="number">16</span>, <span class="number">10</span>), dpi= <span class="number">80</span>, facecolor=<span class="string">'w'</span>, edgecolor=<span class="string">'k'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i, category <span class="keyword">in</span> enumerate(categories):</span><br><span class="line">    plt.scatter(<span class="string">'area'</span>, <span class="string">'poptotal'</span>,</span><br><span class="line">                data=midwest.loc[midwest.category==category, :],</span><br><span class="line">                s=<span class="number">20</span>, cmap=colors[i], label=str(category))</span><br><span class="line"><span class="comment"># 原文 c=colors[i] 已修改为 cmap=colors[i]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line">plt.gca().set(xlim=(<span class="number">0.0</span>, <span class="number">0.1</span>), ylim=(<span class="number">0</span>, <span class="number">90000</span>),</span><br><span class="line">              xlabel=<span class="string">'Area'</span>, ylabel=<span class="string">'Population'</span>)</span><br><span class="line"></span><br><span class="line">plt.xticks(fontsize=<span class="number">12</span>); plt.yticks(fontsize=<span class="number">12</span>)</span><br><span class="line">plt.title(<span class="string">"Scatterplot of Midwest Area vs Population"</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.legend(fontsize=<span class="number">12</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/01.png" alt="01"><br></fancybox>

<h3 id="【02】带边界的气泡图（Bubble-plot-with-Encircling）"><a href="#【02】带边界的气泡图（Bubble-plot-with-Encircling）" class="headerlink" title="【02】带边界的气泡图（Bubble plot with Encircling）"></a><font color="##4876FF">【02】带边界的气泡图（Bubble plot with Encircling）</font></h3><p>有时候您想在一个边界内显示一组点来强调它们的重要性。在本例中，您将从被包围的数据中获取记录，并将其传递给下面的代码中描述的 <code>encircle()</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> patches</span><br><span class="line"><span class="keyword">from</span> scipy.spatial <span class="keyword">import</span> ConvexHull</span><br><span class="line"><span class="keyword">import</span> warnings; warnings.simplefilter(<span class="string">'ignore'</span>)</span><br><span class="line">sns.set_style(<span class="string">"white"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Step 1: Prepare Data</span></span><br><span class="line">midwest = pd.read_csv(<span class="string">"https://raw.githubusercontent.com/selva86/datasets/master/midwest_filter.csv"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># As many colors as there are unique midwest['category']</span></span><br><span class="line">categories = np.unique(midwest[<span class="string">'category'</span>])</span><br><span class="line">colors = [plt.cm.tab10(i/float(len(categories)<span class="number">-1</span>)) <span class="keyword">for</span> i <span class="keyword">in</span> range(len(categories))]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Step 2: Draw Scatterplot with unique color for each category</span></span><br><span class="line">fig = plt.figure(figsize=(<span class="number">16</span>, <span class="number">10</span>), dpi=<span class="number">80</span>, facecolor=<span class="string">'w'</span>, edgecolor=<span class="string">'k'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i, category <span class="keyword">in</span> enumerate(categories):</span><br><span class="line">    plt.scatter(<span class="string">'area'</span>, <span class="string">'poptotal'</span>, data=midwest.loc[midwest.category == category, :], s=<span class="string">'dot_size'</span>, cmap=colors[i], label=str(category), edgecolors=<span class="string">'black'</span>, linewidths=<span class="number">.5</span>)</span><br><span class="line"><span class="comment"># 原文 c=colors[i] 已修改为 cmap=colors[i]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Step 3: Encircling</span></span><br><span class="line"><span class="comment"># https://stackoverflow.com/questions/44575681/how-do-i-encircle-different-data-sets-in-scatter-plot</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">encircle</span><span class="params">(x,y, ax=None, **kw)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> ax: ax = plt.gca()</span><br><span class="line">    p = np.c_[x, y]</span><br><span class="line">    hull = ConvexHull(p)</span><br><span class="line">    poly = plt.Polygon(p[hull.vertices, :], **kw)</span><br><span class="line">    ax.add_patch(poly)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Select data to be encircled</span></span><br><span class="line">midwest_encircle_data = midwest.loc[midwest.state==<span class="string">'IN'</span>, :]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw polygon surrounding vertices</span></span><br><span class="line">encircle(midwest_encircle_data.area, midwest_encircle_data.poptotal, ec=<span class="string">"k"</span>, fc=<span class="string">"gold"</span>, alpha=<span class="number">0.1</span>)</span><br><span class="line">encircle(midwest_encircle_data.area, midwest_encircle_data.poptotal, ec=<span class="string">"firebrick"</span>, fc=<span class="string">"none"</span>, linewidth=<span class="number">1.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Step 4: Decorations</span></span><br><span class="line">plt.gca().set(xlim=(<span class="number">0.0</span>, <span class="number">0.1</span>), ylim=(<span class="number">0</span>, <span class="number">90000</span>),</span><br><span class="line">              xlabel=<span class="string">'Area'</span>, ylabel=<span class="string">'Population'</span>)</span><br><span class="line"></span><br><span class="line">plt.xticks(fontsize=<span class="number">12</span>); plt.yticks(fontsize=<span class="number">12</span>)</span><br><span class="line">plt.title(<span class="string">"Bubble Plot with Encircling"</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.legend(fontsize=<span class="number">12</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/02.png" alt="02"><br></fancybox>

<h3 id="【03】带线性回归最佳拟合线的散点图（Scatter-plot-with-linear-regression-line-of-best-fit）"><a href="#【03】带线性回归最佳拟合线的散点图（Scatter-plot-with-linear-regression-line-of-best-fit）" class="headerlink" title="【03】带线性回归最佳拟合线的散点图（Scatter plot with linear regression line of best fit）"></a><font color="##4876FF">【03】带线性回归最佳拟合线的散点图（Scatter plot with linear regression line of best fit）</font></h3><p>如果你想了解两个变量之间是如何变化的，那么最佳拟合线就是常用的方法。下图显示了数据中不同组之间的最佳拟合线的差异。若要禁用分组并只为整个数据集绘制一条最佳拟合线，请从 <code>sns.lmplot()</code> 方法中删除 <code>hue =&#39;cyl&#39;</code> 参数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">"https://raw.githubusercontent.com/selva86/datasets/master/mpg_ggplot2.csv"</span>)</span><br><span class="line">df_select = df.loc[df.cyl.isin([<span class="number">4</span>, <span class="number">8</span>]), :]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot</span></span><br><span class="line">sns.set_style(<span class="string">"white"</span>)</span><br><span class="line">gridobj = sns.lmplot(x=<span class="string">"displ"</span>, y=<span class="string">"hwy"</span>, hue=<span class="string">"cyl"</span>, data=df_select,</span><br><span class="line">                     height=<span class="number">7</span>, aspect=<span class="number">1.6</span>, robust=<span class="keyword">True</span>, palette=<span class="string">'tab10'</span>,</span><br><span class="line">                     scatter_kws=dict(s=<span class="number">60</span>, linewidths=<span class="number">.7</span>, edgecolors=<span class="string">'black'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line">gridobj.set(xlim=(<span class="number">0.5</span>, <span class="number">7.5</span>), ylim=(<span class="number">0</span>, <span class="number">50</span>))</span><br><span class="line">plt.title(<span class="string">"Scatterplot with line of best fit grouped by number of cylinders"</span>, fontsize=<span class="number">20</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/03.png" alt="03"><br></fancybox>

<p>针对每一组数据绘制线性回归线（Each regression line in its own column），可以通过在 <code>sns.lmplot()</code> 中设置 <code>col=groupingcolumn</code> 参数来实现，如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">"https://raw.githubusercontent.com/selva86/datasets/master/mpg_ggplot2.csv"</span>)</span><br><span class="line">df_select = df.loc[df.cyl.isin([<span class="number">4</span>, <span class="number">8</span>]), :]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Each line in its own column</span></span><br><span class="line">sns.set_style(<span class="string">"white"</span>)</span><br><span class="line">gridobj = sns.lmplot(x=<span class="string">"displ"</span>, y=<span class="string">"hwy"</span>,</span><br><span class="line">                     data=df_select,</span><br><span class="line">                     height=<span class="number">7</span>,</span><br><span class="line">                     robust=<span class="keyword">True</span>,</span><br><span class="line">                     palette=<span class="string">'Set1'</span>,</span><br><span class="line">                     col=<span class="string">"cyl"</span>,</span><br><span class="line">                     scatter_kws=dict(s=<span class="number">60</span>, linewidths=<span class="number">.7</span>, edgecolors=<span class="string">'black'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line">gridobj.set(xlim=(<span class="number">0.5</span>, <span class="number">7.5</span>), ylim=(<span class="number">0</span>, <span class="number">50</span>))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/04.png" alt="04"><br></fancybox>

<h3 id="【04】抖动图（Jittering-with-stripplot）"><a href="#【04】抖动图（Jittering-with-stripplot）" class="headerlink" title="【04】抖动图（Jittering with stripplot）"></a><font color="##4876FF">【04】抖动图（Jittering with stripplot）</font></h3><p>通常，多个数据点具有完全相同的 X 和 Y 值。 此时多个点绘制会重叠并隐藏。为避免这种情况，可以将数据点稍微抖动，以便可以直观地看到它们。 使用 <code>seaborn</code> 库的 <code>stripplot()</code> 方法可以很方便的实现这个功能。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">"https://raw.githubusercontent.com/selva86/datasets/master/mpg_ggplot2.csv"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw Stripplot</span></span><br><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">16</span>,<span class="number">10</span>), dpi= <span class="number">80</span>)</span><br><span class="line">sns.stripplot(df.cty, df.hwy, jitter=<span class="number">0.25</span>, size=<span class="number">8</span>, ax=ax, linewidth=<span class="number">.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line">plt.title(<span class="string">'Use jittered plots to avoid overlapping of points'</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/05.png" alt="05"><br></fancybox>

<h3 id="【05】计数图（Counts-Plot）"><a href="#【05】计数图（Counts-Plot）" class="headerlink" title="【05】计数图（Counts Plot）"></a><font color="##4876FF">【05】计数图（Counts Plot）</font></h3><p>避免点重叠问题的另一个选择是根据点的位置增加点的大小。所以，点的大小越大，它周围的点就越集中。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">"https://raw.githubusercontent.com/selva86/datasets/master/mpg_ggplot2.csv"</span>)</span><br><span class="line">df_counts = df.groupby([<span class="string">'hwy'</span>, <span class="string">'cty'</span>]).size().reset_index(name=<span class="string">'counts'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw Stripplot</span></span><br><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">16</span>,<span class="number">10</span>), dpi= <span class="number">80</span>)    </span><br><span class="line">sns.stripplot(df_counts.cty, df_counts.hwy, size=df_counts.counts*<span class="number">2</span>, ax=ax)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line">plt.title(<span class="string">'Counts Plot - Size of circle is bigger as more points overlap'</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/06.png" alt="06"><br></fancybox>

<h3 id="【06】边缘直方图（Marginal-Histogram）"><a href="#【06】边缘直方图（Marginal-Histogram）" class="headerlink" title="【06】边缘直方图（Marginal Histogram）"></a><font color="##4876FF">【06】边缘直方图（Marginal Histogram）</font></h3><p>边缘直方图是具有沿 X 和 Y 轴变量的直方图。 这用于可视化 X 和 Y 之间的关系以及单独的 X 和 Y 的单变量分布。 这种图经常用于探索性数据分析（EDA）。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">"https://raw.githubusercontent.com/selva86/datasets/master/mpg_ggplot2.csv"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create Fig and gridspec</span></span><br><span class="line">fig = plt.figure(figsize=(<span class="number">16</span>, <span class="number">10</span>), dpi= <span class="number">80</span>)</span><br><span class="line">grid = plt.GridSpec(<span class="number">4</span>, <span class="number">4</span>, hspace=<span class="number">0.5</span>, wspace=<span class="number">0.2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Define the axes</span></span><br><span class="line">ax_main = fig.add_subplot(grid[:<span class="number">-1</span>, :<span class="number">-1</span>])</span><br><span class="line">ax_right = fig.add_subplot(grid[:<span class="number">-1</span>, <span class="number">-1</span>], xticklabels=[], yticklabels=[])</span><br><span class="line">ax_bottom = fig.add_subplot(grid[<span class="number">-1</span>, <span class="number">0</span>:<span class="number">-1</span>], xticklabels=[], yticklabels=[])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Scatterplot on main ax</span></span><br><span class="line">ax_main.scatter(<span class="string">'displ'</span>, <span class="string">'hwy'</span>, s=df.cty*<span class="number">4</span>, c=df.manufacturer.astype(<span class="string">'category'</span>).cat.codes, alpha=<span class="number">.9</span>, data=df, cmap=<span class="string">"tab10"</span>, edgecolors=<span class="string">'gray'</span>, linewidths=<span class="number">.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># histogram on the right</span></span><br><span class="line">ax_bottom.hist(df.displ, <span class="number">40</span>, histtype=<span class="string">'stepfilled'</span>, orientation=<span class="string">'vertical'</span>, color=<span class="string">'deeppink'</span>)</span><br><span class="line">ax_bottom.invert_yaxis()</span><br><span class="line"></span><br><span class="line"><span class="comment"># histogram in the bottom</span></span><br><span class="line">ax_right.hist(df.hwy, <span class="number">40</span>, histtype=<span class="string">'stepfilled'</span>, orientation=<span class="string">'horizontal'</span>, color=<span class="string">'deeppink'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line">ax_main.set(title=<span class="string">'Scatterplot with Histograms \n displ vs hwy'</span>, xlabel=<span class="string">'displ'</span>, ylabel=<span class="string">'hwy'</span>)</span><br><span class="line">ax_main.title.set_fontsize(<span class="number">20</span>)</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> ([ax_main.xaxis.label, ax_main.yaxis.label] + ax_main.get_xticklabels() + ax_main.get_yticklabels()):</span><br><span class="line">    item.set_fontsize(<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line">xlabels = ax_main.get_xticks().tolist()</span><br><span class="line">ax_main.set_xticklabels(xlabels)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/07.png" alt="07"><br></fancybox>

<h3 id="【07】边缘箱形图（Marginal-Boxplot）"><a href="#【07】边缘箱形图（Marginal-Boxplot）" class="headerlink" title="【07】边缘箱形图（Marginal Boxplot）"></a><font color="##4876FF">【07】边缘箱形图（Marginal Boxplot）</font></h3><p>边缘箱形图与边缘直方图具有相似的用途。 然而，箱线图有助于精确定位 X 和 Y 的中位数、第25和第75百分位数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">"https://raw.githubusercontent.com/selva86/datasets/master/mpg_ggplot2.csv"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create Fig and gridspec</span></span><br><span class="line">fig = plt.figure(figsize=(<span class="number">16</span>, <span class="number">10</span>), dpi= <span class="number">80</span>)</span><br><span class="line">grid = plt.GridSpec(<span class="number">4</span>, <span class="number">4</span>, hspace=<span class="number">0.5</span>, wspace=<span class="number">0.2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Define the axes</span></span><br><span class="line">ax_main = fig.add_subplot(grid[:<span class="number">-1</span>, :<span class="number">-1</span>])</span><br><span class="line">ax_right = fig.add_subplot(grid[:<span class="number">-1</span>, <span class="number">-1</span>], xticklabels=[], yticklabels=[])</span><br><span class="line">ax_bottom = fig.add_subplot(grid[<span class="number">-1</span>, <span class="number">0</span>:<span class="number">-1</span>], xticklabels=[], yticklabels=[])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Scatterplot on main ax</span></span><br><span class="line">ax_main.scatter(<span class="string">'displ'</span>, <span class="string">'hwy'</span>, s=df.cty*<span class="number">5</span>, c=df.manufacturer.astype(<span class="string">'category'</span>).cat.codes, alpha=<span class="number">.9</span>, data=df, cmap=<span class="string">"Set1"</span>, edgecolors=<span class="string">'black'</span>, linewidths=<span class="number">.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Add a graph in each part</span></span><br><span class="line">sns.boxplot(df.hwy, ax=ax_right, orient=<span class="string">"v"</span>)</span><br><span class="line">sns.boxplot(df.displ, ax=ax_bottom, orient=<span class="string">"h"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations ------------------</span></span><br><span class="line"><span class="comment"># Remove x axis name for the boxplot</span></span><br><span class="line">ax_bottom.set(xlabel=<span class="string">''</span>)</span><br><span class="line">ax_right.set(ylabel=<span class="string">''</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Main Title, Xlabel and YLabel</span></span><br><span class="line">ax_main.set(title=<span class="string">'Scatterplot with Histograms \n displ vs hwy'</span>, xlabel=<span class="string">'displ'</span>, ylabel=<span class="string">'hwy'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set font size of different components</span></span><br><span class="line">ax_main.title.set_fontsize(<span class="number">20</span>)</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> ([ax_main.xaxis.label, ax_main.yaxis.label] + ax_main.get_xticklabels() + ax_main.get_yticklabels()):</span><br><span class="line">    item.set_fontsize(<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/08.png" alt="08"><br></fancybox>

<h3 id="【08】相关图（Correllogram）"><a href="#【08】相关图（Correllogram）" class="headerlink" title="【08】相关图（Correllogram）"></a><font color="##4876FF">【08】相关图（Correllogram）</font></h3><p>相关图用于直观地查看给定数据帧（或二维数组）中所有可能的数值变量对之间的相关性度量。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import Dataset</span></span><br><span class="line">df = pd.read_csv(<span class="string">"https://github.com/selva86/datasets/raw/master/mtcars.csv"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">12</span>, <span class="number">10</span>), dpi=<span class="number">80</span>)</span><br><span class="line">sns.heatmap(df.corr(), xticklabels=df.corr().columns, yticklabels=df.corr().columns, cmap=<span class="string">'RdYlGn'</span>, center=<span class="number">0</span>, annot=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line">plt.title(<span class="string">'Correlogram of mtcars'</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.xticks(fontsize=<span class="number">12</span>)</span><br><span class="line">plt.yticks(fontsize=<span class="number">12</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/09.png" alt="09"><br></fancybox>

<h3 id="【09】成对图（Pairwise-Plot）"><a href="#【09】成对图（Pairwise-Plot）" class="headerlink" title="【09】成对图（Pairwise Plot）"></a><font color="##4876FF">【09】成对图（Pairwise Plot）</font></h3><p>成对图是探索性分析中最受欢迎的一种方法，用来理解所有可能的数值变量对之间的关系。它是二元分析的必备工具。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Load Dataset</span></span><br><span class="line">df = sns.load_dataset(<span class="string">'iris'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">10</span>, <span class="number">8</span>), dpi=<span class="number">80</span>)</span><br><span class="line">sns.pairplot(df, kind=<span class="string">"scatter"</span>, hue=<span class="string">"species"</span>, plot_kws=dict(s=<span class="number">80</span>, edgecolor=<span class="string">"white"</span>, linewidth=<span class="number">2.5</span>))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/10.png" alt="10"><br></fancybox>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Load Dataset</span></span><br><span class="line">df = sns.load_dataset(<span class="string">'iris'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">10</span>, <span class="number">8</span>), dpi=<span class="number">80</span>)</span><br><span class="line">sns.pairplot(df, kind=<span class="string">"reg"</span>, hue=<span class="string">"species"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/11.png" alt="11"><br></fancybox>

<h2 id="【4x00】偏差（Deviation）"><a href="#【4x00】偏差（Deviation）" class="headerlink" title="【4x00】偏差（Deviation）"></a><font color="#FF0000">【4x00】偏差（Deviation）</font></h2><h3 id="【10】发散型条形图（Diverging-Bars）"><a href="#【10】发散型条形图（Diverging-Bars）" class="headerlink" title="【10】发散型条形图（Diverging Bars）"></a><font color="##4876FF">【10】发散型条形图（Diverging Bars）</font></h3><p>如果您想根据单个指标查看项目的变化情况，并可视化此差异的顺序和数量，那么散型条形图是一个很好的工具。 它有助于快速区分数据组的性能，并且非常直观，并且可以立即传达这一点。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Prepare Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">"https://github.com/selva86/datasets/raw/master/mtcars.csv"</span>)</span><br><span class="line">x = df.loc[:, [<span class="string">'mpg'</span>]]</span><br><span class="line">df[<span class="string">'mpg_z'</span>] = (x - x.mean())/x.std()</span><br><span class="line">df[<span class="string">'colors'</span>] = [<span class="string">'red'</span> <span class="keyword">if</span> x &lt; <span class="number">0</span> <span class="keyword">else</span> <span class="string">'green'</span> <span class="keyword">for</span> x <span class="keyword">in</span> df[<span class="string">'mpg_z'</span>]]</span><br><span class="line">df.sort_values(<span class="string">'mpg_z'</span>, inplace=<span class="keyword">True</span>)</span><br><span class="line">df.reset_index(inplace=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">14</span>,<span class="number">10</span>), dpi= <span class="number">80</span>)</span><br><span class="line">plt.hlines(y=df.index, xmin=<span class="number">0</span>, xmax=df.mpg_z, color=df.colors, alpha=<span class="number">0.4</span>, linewidth=<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line">plt.gca().set(ylabel=<span class="string">'$Model$'</span>, xlabel=<span class="string">'$Mileage$'</span>)</span><br><span class="line">plt.yticks(df.index, df.cars, fontsize=<span class="number">12</span>)</span><br><span class="line">plt.title(<span class="string">'Diverging Bars of Car Mileage'</span>, fontdict=&#123;<span class="string">'size'</span>:<span class="number">20</span>&#125;)</span><br><span class="line">plt.grid(linestyle=<span class="string">'--'</span>, alpha=<span class="number">0.5</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/12.png" alt="12"><br></fancybox>

<h3 id="【11】发散型文本图（Diverging-Texts）"><a href="#【11】发散型文本图（Diverging-Texts）" class="headerlink" title="【11】发散型文本图（Diverging Texts）"></a><font color="##4876FF">【11】发散型文本图（Diverging Texts）</font></h3><p>发散型文本图与发散型条形图相似，如果你希望以一种美观的方式显示图表中每个项目的值，就可以使用这种方法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Prepare Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">"https://github.com/selva86/datasets/raw/master/mtcars.csv"</span>)</span><br><span class="line">x = df.loc[:, [<span class="string">'mpg'</span>]]</span><br><span class="line">df[<span class="string">'mpg_z'</span>] = (x - x.mean())/x.std()</span><br><span class="line">df[<span class="string">'colors'</span>] = [<span class="string">'red'</span> <span class="keyword">if</span> x &lt; <span class="number">0</span> <span class="keyword">else</span> <span class="string">'green'</span> <span class="keyword">for</span> x <span class="keyword">in</span> df[<span class="string">'mpg_z'</span>]]</span><br><span class="line">df.sort_values(<span class="string">'mpg_z'</span>, inplace=<span class="keyword">True</span>)</span><br><span class="line">df.reset_index(inplace=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">14</span>, <span class="number">14</span>), dpi=<span class="number">80</span>)</span><br><span class="line">plt.hlines(y=df.index, xmin=<span class="number">0</span>, xmax=df.mpg_z)</span><br><span class="line"><span class="keyword">for</span> x, y, tex <span class="keyword">in</span> zip(df.mpg_z, df.index, df.mpg_z):</span><br><span class="line">    t = plt.text(x, y, round(tex, <span class="number">2</span>), horizontalalignment=<span class="string">'right'</span> <span class="keyword">if</span> x &lt; <span class="number">0</span> <span class="keyword">else</span> <span class="string">'left'</span>,</span><br><span class="line">                 verticalalignment=<span class="string">'center'</span>, fontdict=&#123;<span class="string">'color'</span>:<span class="string">'red'</span> <span class="keyword">if</span> x &lt; <span class="number">0</span> <span class="keyword">else</span> <span class="string">'green'</span>, <span class="string">'size'</span>:<span class="number">14</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line">plt.yticks(df.index, df.cars, fontsize=<span class="number">12</span>)</span><br><span class="line">plt.title(<span class="string">'Diverging Text Bars of Car Mileage'</span>, fontdict=&#123;<span class="string">'size'</span>:<span class="number">20</span>&#125;)</span><br><span class="line">plt.grid(linestyle=<span class="string">'--'</span>, alpha=<span class="number">0.5</span>)</span><br><span class="line">plt.xlim(<span class="number">-2.5</span>, <span class="number">2.5</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/13.png" alt="13"><br></fancybox>

<h3 id="【12】发散型散点图（Diverging-Dot-Plot）"><a href="#【12】发散型散点图（Diverging-Dot-Plot）" class="headerlink" title="【12】发散型散点图（Diverging Dot Plot）"></a><font color="##4876FF">【12】发散型散点图（Diverging Dot Plot）</font></h3><p>发散型散点图类似于发散型条形图。 但是，与发散型条形图相比，没有条形会减少组之间的对比度和差异。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Prepare Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">"https://github.com/selva86/datasets/raw/master/mtcars.csv"</span>)</span><br><span class="line">x = df.loc[:, [<span class="string">'mpg'</span>]]</span><br><span class="line">df[<span class="string">'mpg_z'</span>] = (x - x.mean())/x.std()</span><br><span class="line">df[<span class="string">'colors'</span>] = [<span class="string">'red'</span> <span class="keyword">if</span> x &lt; <span class="number">0</span> <span class="keyword">else</span> <span class="string">'darkgreen'</span> <span class="keyword">for</span> x <span class="keyword">in</span> df[<span class="string">'mpg_z'</span>]]</span><br><span class="line">df.sort_values(<span class="string">'mpg_z'</span>, inplace=<span class="keyword">True</span>)</span><br><span class="line">df.reset_index(inplace=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">14</span>, <span class="number">16</span>), dpi=<span class="number">80</span>)</span><br><span class="line">plt.scatter(df.mpg_z, df.index, s=<span class="number">450</span>, alpha=<span class="number">.6</span>, color=df.colors)</span><br><span class="line"><span class="keyword">for</span> x, y, tex <span class="keyword">in</span> zip(df.mpg_z, df.index, df.mpg_z):</span><br><span class="line">    t = plt.text(x, y, round(tex, <span class="number">1</span>), horizontalalignment=<span class="string">'center'</span>,</span><br><span class="line">                 verticalalignment=<span class="string">'center'</span>, fontdict=&#123;<span class="string">'color'</span>: <span class="string">'white'</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line"><span class="comment"># Lighten borders</span></span><br><span class="line">plt.gca().spines[<span class="string">"top"</span>].set_alpha(<span class="number">.3</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"bottom"</span>].set_alpha(<span class="number">.3</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"right"</span>].set_alpha(<span class="number">.3</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"left"</span>].set_alpha(<span class="number">.3</span>)</span><br><span class="line"></span><br><span class="line">plt.yticks(df.index, df.cars)</span><br><span class="line">plt.title(<span class="string">'Diverging Dotplot of Car Mileage'</span>, fontdict=&#123;<span class="string">'size'</span>: <span class="number">20</span>&#125;)</span><br><span class="line">plt.xlabel(<span class="string">'$Mileage$'</span>)</span><br><span class="line">plt.grid(linestyle=<span class="string">'--'</span>, alpha=<span class="number">0.5</span>)</span><br><span class="line">plt.xlim(<span class="number">-2.5</span>, <span class="number">2.5</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/14.png" alt="14"><br></fancybox>

<h3 id="【13】带标记的发散型棒棒糖图（Diverging-Lollipop-Chart-with-Markers）"><a href="#【13】带标记的发散型棒棒糖图（Diverging-Lollipop-Chart-with-Markers）" class="headerlink" title="【13】带标记的发散型棒棒糖图（Diverging Lollipop Chart with Markers）"></a><font color="##4876FF">【13】带标记的发散型棒棒糖图（Diverging Lollipop Chart with Markers）</font></h3><p>带有标记的棒棒糖提供了一种灵活的方式，强调您想要引起注意的任何重要数据点并在图表中适当地给出推理。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Prepare Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">"https://github.com/selva86/datasets/raw/master/mtcars.csv"</span>)</span><br><span class="line">x = df.loc[:, [<span class="string">'mpg'</span>]]</span><br><span class="line">df[<span class="string">'mpg_z'</span>] = (x - x.mean())/x.std()</span><br><span class="line">df[<span class="string">'colors'</span>] = <span class="string">'black'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># color fiat differently</span></span><br><span class="line">df.loc[df.cars == <span class="string">'Fiat X1-9'</span>, <span class="string">'colors'</span>] = <span class="string">'darkorange'</span></span><br><span class="line">df.sort_values(<span class="string">'mpg_z'</span>, inplace=<span class="keyword">True</span>)</span><br><span class="line">df.reset_index(inplace=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw plot</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.patches <span class="keyword">as</span> patches</span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">14</span>, <span class="number">16</span>), dpi=<span class="number">80</span>)</span><br><span class="line">plt.hlines(y=df.index, xmin=<span class="number">0</span>, xmax=df.mpg_z, color=df.colors, alpha=<span class="number">0.4</span>, linewidth=<span class="number">1</span>)</span><br><span class="line">plt.scatter(df.mpg_z, df.index, color=df.colors, s=[<span class="number">600</span> <span class="keyword">if</span> x == <span class="string">'Fiat X1-9'</span> <span class="keyword">else</span> <span class="number">300</span> <span class="keyword">for</span> x <span class="keyword">in</span> df.cars], alpha=<span class="number">0.6</span>)</span><br><span class="line">plt.yticks(df.index, df.cars)</span><br><span class="line">plt.xticks(fontsize=<span class="number">12</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Annotate</span></span><br><span class="line">plt.annotate(<span class="string">'Mercedes Models'</span>, xy=(<span class="number">0.0</span>, <span class="number">11.0</span>), xytext=(<span class="number">1.0</span>, <span class="number">11</span>), xycoords=<span class="string">'data'</span>,</span><br><span class="line">            fontsize=<span class="number">15</span>, ha=<span class="string">'center'</span>, va=<span class="string">'center'</span>,</span><br><span class="line">            bbox=dict(boxstyle=<span class="string">'square'</span>, fc=<span class="string">'firebrick'</span>),</span><br><span class="line">            arrowprops=dict(arrowstyle=<span class="string">'-[, widthB=2.0, lengthB=1.5'</span>, lw=<span class="number">2.0</span>, color=<span class="string">'steelblue'</span>), color=<span class="string">'white'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Add Patches</span></span><br><span class="line">p1 = patches.Rectangle((<span class="number">-2.0</span>, <span class="number">-1</span>), width=<span class="number">.3</span>, height=<span class="number">3</span>, alpha=<span class="number">.2</span>, facecolor=<span class="string">'red'</span>)</span><br><span class="line">p2 = patches.Rectangle((<span class="number">1.5</span>, <span class="number">27</span>), width=<span class="number">.8</span>, height=<span class="number">5</span>, alpha=<span class="number">.2</span>, facecolor=<span class="string">'green'</span>)</span><br><span class="line">plt.gca().add_patch(p1)</span><br><span class="line">plt.gca().add_patch(p2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorate</span></span><br><span class="line">plt.title(<span class="string">'Diverging Bars of Car Mileage'</span>, fontdict=&#123;<span class="string">'size'</span>: <span class="number">20</span>&#125;)</span><br><span class="line">plt.grid(linestyle=<span class="string">'--'</span>, alpha=<span class="number">0.5</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/15.png" alt="15"><br></fancybox>

<h3 id="【14】面积图（Area-Chart）"><a href="#【14】面积图（Area-Chart）" class="headerlink" title="【14】面积图（Area Chart）"></a><font color="##4876FF">【14】面积图（Area Chart）</font></h3><p>通过对轴和线之间的区域进行着色，面积图不仅强调波峰和波谷，还强调波峰和波谷的持续时间。 高点持续时间越长，线下面积越大。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># Prepare Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">"https://github.com/selva86/datasets/raw/master/economics.csv"</span>, parse_dates=[<span class="string">'date'</span>]).head(<span class="number">100</span>)</span><br><span class="line">x = np.arange(df.shape[<span class="number">0</span>])</span><br><span class="line">y_returns = (df.psavert.diff().fillna(<span class="number">0</span>)/df.psavert.shift(<span class="number">1</span>)).fillna(<span class="number">0</span>) * <span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">16</span>, <span class="number">10</span>), dpi=<span class="number">80</span>)</span><br><span class="line">plt.fill_between(x[<span class="number">1</span>:], y_returns[<span class="number">1</span>:], <span class="number">0</span>, where=y_returns[<span class="number">1</span>:] &gt;= <span class="number">0</span>, facecolor=<span class="string">'green'</span>, interpolate=<span class="keyword">True</span>, alpha=<span class="number">0.7</span>)</span><br><span class="line">plt.fill_between(x[<span class="number">1</span>:], y_returns[<span class="number">1</span>:], <span class="number">0</span>, where=y_returns[<span class="number">1</span>:] &lt;= <span class="number">0</span>, facecolor=<span class="string">'red'</span>, interpolate=<span class="keyword">True</span>, alpha=<span class="number">0.7</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Annotate</span></span><br><span class="line">plt.annotate(<span class="string">'Peak \n1975'</span>, xy=(<span class="number">94.0</span>, <span class="number">21.0</span>), xytext=(<span class="number">88.0</span>, <span class="number">28</span>),</span><br><span class="line">             bbox=dict(boxstyle=<span class="string">'square'</span>, fc=<span class="string">'firebrick'</span>),</span><br><span class="line">             arrowprops=dict(facecolor=<span class="string">'steelblue'</span>, shrink=<span class="number">0.05</span>), fontsize=<span class="number">15</span>, color=<span class="string">'white'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line">xtickvals = [str(m)[:<span class="number">3</span>].upper()+<span class="string">"-"</span>+str(y) <span class="keyword">for</span> y, m <span class="keyword">in</span> zip(df.date.dt.year, df.date.dt.month_name())]</span><br><span class="line">plt.gca().set_xticks(x[::<span class="number">6</span>])</span><br><span class="line">plt.gca().set_xticklabels(xtickvals[::<span class="number">6</span>], rotation=<span class="number">90</span>, fontdict=&#123;<span class="string">'horizontalalignment'</span>: <span class="string">'center'</span>, <span class="string">'verticalalignment'</span>: <span class="string">'center_baseline'</span>&#125;)</span><br><span class="line">plt.ylim(<span class="number">-35</span>, <span class="number">35</span>)</span><br><span class="line">plt.xlim(<span class="number">1</span>, <span class="number">100</span>)</span><br><span class="line">plt.title(<span class="string">"Month Economics Return %"</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Monthly returns %'</span>)</span><br><span class="line">plt.grid(alpha=<span class="number">0.5</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/16.png" alt="16"><br></fancybox>

<h2 id="【5x00】排序（Ranking）"><a href="#【5x00】排序（Ranking）" class="headerlink" title="【5x00】排序（Ranking）"></a><font color="#FF0000">【5x00】排序（Ranking）</font></h2><h3 id="【15】有序条形图（Ordered-Bar-Chart）"><a href="#【15】有序条形图（Ordered-Bar-Chart）" class="headerlink" title="【15】有序条形图（Ordered Bar Chart）"></a><font color="##4876FF">【15】有序条形图（Ordered Bar Chart）</font></h3><p>有序条形图有效地传达了项目的排序顺序。在图表上方添加度量标准的值，用户就可以从图表本身获得精确的信息。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Prepare Data</span></span><br><span class="line">df_raw = pd.read_csv(<span class="string">"https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv"</span>)</span><br><span class="line">df = df_raw[[<span class="string">'cty'</span>, <span class="string">'manufacturer'</span>]].groupby(<span class="string">'manufacturer'</span>).apply(<span class="keyword">lambda</span> x: x.mean())</span><br><span class="line">df.sort_values(<span class="string">'cty'</span>, inplace=<span class="keyword">True</span>)</span><br><span class="line">df.reset_index(inplace=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw plot</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.patches <span class="keyword">as</span> patches</span><br><span class="line"></span><br><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">16</span>,<span class="number">10</span>), facecolor=<span class="string">'white'</span>, dpi= <span class="number">80</span>)</span><br><span class="line">ax.vlines(x=df.index, ymin=<span class="number">0</span>, ymax=df.cty, color=<span class="string">'firebrick'</span>, alpha=<span class="number">0.7</span>, linewidth=<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Annotate Text</span></span><br><span class="line"><span class="keyword">for</span> i, cty <span class="keyword">in</span> enumerate(df.cty):</span><br><span class="line">    ax.text(i, cty+<span class="number">0.5</span>, round(cty, <span class="number">1</span>), horizontalalignment=<span class="string">'center'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Title, Label, Ticks and Ylim</span></span><br><span class="line">ax.set_title(<span class="string">'Bar Chart for Highway Mileage'</span>, fontdict=&#123;<span class="string">'size'</span>:<span class="number">22</span>&#125;)</span><br><span class="line">ax.set(ylabel=<span class="string">'Miles Per Gallon'</span>, ylim=(<span class="number">0</span>, <span class="number">30</span>))</span><br><span class="line">plt.xticks(df.index, df.manufacturer.str.upper(), rotation=<span class="number">60</span>, horizontalalignment=<span class="string">'right'</span>, fontsize=<span class="number">12</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Add patches to color the X axis labels</span></span><br><span class="line">p1 = patches.Rectangle((<span class="number">.57</span>, <span class="number">-0.005</span>), width=<span class="number">.33</span>, height=<span class="number">.13</span>, alpha=<span class="number">.1</span>, facecolor=<span class="string">'green'</span>, transform=fig.transFigure)</span><br><span class="line">p2 = patches.Rectangle((<span class="number">.124</span>, <span class="number">-0.005</span>), width=<span class="number">.446</span>, height=<span class="number">.13</span>, alpha=<span class="number">.1</span>, facecolor=<span class="string">'red'</span>, transform=fig.transFigure)</span><br><span class="line">fig.add_artist(p1)</span><br><span class="line">fig.add_artist(p2)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/17.png" alt="17"><br></fancybox>

<h3 id="【16】棒棒糖图（Lollipop-Chart）"><a href="#【16】棒棒糖图（Lollipop-Chart）" class="headerlink" title="【16】棒棒糖图（Lollipop Chart）"></a><font color="##4876FF">【16】棒棒糖图（Lollipop Chart）</font></h3><p>棒棒糖图表以一种视觉上令人愉悦的方式提供与有序条形图类似的目的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Prepare Data</span></span><br><span class="line">df_raw = pd.read_csv(<span class="string">"https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv"</span>)</span><br><span class="line">df = df_raw[[<span class="string">'cty'</span>, <span class="string">'manufacturer'</span>]].groupby(<span class="string">'manufacturer'</span>).apply(<span class="keyword">lambda</span> x: x.mean())</span><br><span class="line">df.sort_values(<span class="string">'cty'</span>, inplace=<span class="keyword">True</span>)</span><br><span class="line">df.reset_index(inplace=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw plot</span></span><br><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">16</span>, <span class="number">10</span>), dpi=<span class="number">80</span>)</span><br><span class="line">ax.vlines(x=df.index, ymin=<span class="number">0</span>, ymax=df.cty, color=<span class="string">'firebrick'</span>, alpha=<span class="number">0.7</span>, linewidth=<span class="number">2</span>)</span><br><span class="line">ax.scatter(x=df.index, y=df.cty, s=<span class="number">75</span>, color=<span class="string">'firebrick'</span>, alpha=<span class="number">0.7</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Title, Label, Ticks and Ylim</span></span><br><span class="line">ax.set_title(<span class="string">'Lollipop Chart for Highway Mileage'</span>, fontdict=&#123;<span class="string">'size'</span>: <span class="number">22</span>&#125;)</span><br><span class="line">ax.set_ylabel(<span class="string">'Miles Per Gallon'</span>)</span><br><span class="line">ax.set_xticks(df.index)</span><br><span class="line">ax.set_xticklabels(df.manufacturer.str.upper(), rotation=<span class="number">60</span>, fontdict=&#123;<span class="string">'horizontalalignment'</span>: <span class="string">'right'</span>, <span class="string">'size'</span>: <span class="number">12</span>&#125;)</span><br><span class="line">ax.set_ylim(<span class="number">0</span>, <span class="number">30</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Annotate</span></span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> df.itertuples():</span><br><span class="line">    ax.text(row.Index, row.cty+<span class="number">.5</span>, s=round(row.cty, <span class="number">2</span>), horizontalalignment=<span class="string">'center'</span>, verticalalignment=<span class="string">'bottom'</span>, fontsize=<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/18.png" alt="18"><br></fancybox>

<h3 id="【17】点图（Dot-Plot）"><a href="#【17】点图（Dot-Plot）" class="headerlink" title="【17】点图（Dot Plot）"></a><font color="##4876FF">【17】点图（Dot Plot）</font></h3><p>点图可以表示项目的排名顺序。由于它是沿水平轴对齐的，所以可以更容易地看到点之间的距离。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Prepare Data</span></span><br><span class="line">df_raw = pd.read_csv(<span class="string">"https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv"</span>)</span><br><span class="line">df = df_raw[[<span class="string">'cty'</span>, <span class="string">'manufacturer'</span>]].groupby(<span class="string">'manufacturer'</span>).apply(<span class="keyword">lambda</span> x: x.mean())</span><br><span class="line">df.sort_values(<span class="string">'cty'</span>, inplace=<span class="keyword">True</span>)</span><br><span class="line">df.reset_index(inplace=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw plot</span></span><br><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">16</span>, <span class="number">10</span>), dpi=<span class="number">80</span>)</span><br><span class="line">ax.hlines(y=df.index, xmin=<span class="number">11</span>, xmax=<span class="number">26</span>, color=<span class="string">'gray'</span>, alpha=<span class="number">0.7</span>, linewidth=<span class="number">1</span>, linestyles=<span class="string">'dashdot'</span>)</span><br><span class="line">ax.scatter(y=df.index, x=df.cty, s=<span class="number">75</span>, color=<span class="string">'firebrick'</span>, alpha=<span class="number">0.7</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Title, Label, Ticks and Ylim</span></span><br><span class="line">ax.set_title(<span class="string">'Dot Plot for Highway Mileage'</span>, fontdict=&#123;<span class="string">'size'</span>: <span class="number">22</span>&#125;)</span><br><span class="line">ax.set_xlabel(<span class="string">'Miles Per Gallon'</span>)</span><br><span class="line">ax.set_yticks(df.index)</span><br><span class="line">ax.set_yticklabels(df.manufacturer.str.title(), fontdict=&#123;<span class="string">'horizontalalignment'</span>: <span class="string">'right'</span>&#125;)</span><br><span class="line">ax.set_xlim(<span class="number">10</span>, <span class="number">27</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/19.png" alt="19"><br></fancybox>

<h3 id="【18】坡度图（Slope-Chart）"><a href="#【18】坡度图（Slope-Chart）" class="headerlink" title="【18】坡度图（Slope Chart）"></a><font color="##4876FF">【18】坡度图（Slope Chart）</font></h3><p>坡度图最适合比较给定人员/项目的“前”和“后”位置。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.lines <span class="keyword">as</span> mlines</span><br><span class="line"></span><br><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">"https://raw.githubusercontent.com/selva86/datasets/master/gdppercap.csv"</span>)</span><br><span class="line"></span><br><span class="line">left_label = [str(c) + <span class="string">', '</span> + str(round(y)) <span class="keyword">for</span> c, y <span class="keyword">in</span> zip(df.continent, df[<span class="string">'1952'</span>])]</span><br><span class="line">right_label = [str(c) + <span class="string">', '</span> + str(round(y)) <span class="keyword">for</span> c, y <span class="keyword">in</span> zip(df.continent, df[<span class="string">'1957'</span>])]</span><br><span class="line">klass = [<span class="string">'red'</span> <span class="keyword">if</span> (y1 - y2) &lt; <span class="number">0</span> <span class="keyword">else</span> <span class="string">'green'</span> <span class="keyword">for</span> y1, y2 <span class="keyword">in</span> zip(df[<span class="string">'1952'</span>], df[<span class="string">'1957'</span>])]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># draw line</span></span><br><span class="line"><span class="comment"># https://stackoverflow.com/questions/36470343/how-to-draw-a-line-with-matplotlib/36479941</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">newline</span><span class="params">(p1, p2, color=<span class="string">'black'</span>)</span>:</span></span><br><span class="line">    ax = plt.gca()</span><br><span class="line">    l = mlines.Line2D([p1[<span class="number">0</span>], p2[<span class="number">0</span>]], [p1[<span class="number">1</span>], p2[<span class="number">1</span>]], color=<span class="string">'red'</span> <span class="keyword">if</span> p1[<span class="number">1</span>] - p2[<span class="number">1</span>] &gt; <span class="number">0</span> <span class="keyword">else</span> <span class="string">'green'</span>, marker=<span class="string">'o'</span>,</span><br><span class="line">                      markersize=<span class="number">6</span>)</span><br><span class="line">    ax.add_line(l)</span><br><span class="line">    <span class="keyword">return</span> l</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fig, ax = plt.subplots(<span class="number">1</span>, <span class="number">1</span>, figsize=(<span class="number">14</span>, <span class="number">14</span>), dpi=<span class="number">80</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Vertical Lines</span></span><br><span class="line">ax.vlines(x=<span class="number">1</span>, ymin=<span class="number">500</span>, ymax=<span class="number">13000</span>, color=<span class="string">'black'</span>, alpha=<span class="number">0.7</span>, linewidth=<span class="number">1</span>, linestyles=<span class="string">'dotted'</span>)</span><br><span class="line">ax.vlines(x=<span class="number">3</span>, ymin=<span class="number">500</span>, ymax=<span class="number">13000</span>, color=<span class="string">'black'</span>, alpha=<span class="number">0.7</span>, linewidth=<span class="number">1</span>, linestyles=<span class="string">'dotted'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Points</span></span><br><span class="line">ax.scatter(y=df[<span class="string">'1952'</span>], x=np.repeat(<span class="number">1</span>, df.shape[<span class="number">0</span>]), s=<span class="number">10</span>, color=<span class="string">'black'</span>, alpha=<span class="number">0.7</span>)</span><br><span class="line">ax.scatter(y=df[<span class="string">'1957'</span>], x=np.repeat(<span class="number">3</span>, df.shape[<span class="number">0</span>]), s=<span class="number">10</span>, color=<span class="string">'black'</span>, alpha=<span class="number">0.7</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Line Segmentsand Annotation</span></span><br><span class="line"><span class="keyword">for</span> p1, p2, c <span class="keyword">in</span> zip(df[<span class="string">'1952'</span>], df[<span class="string">'1957'</span>], df[<span class="string">'continent'</span>]):</span><br><span class="line">    newline([<span class="number">1</span>, p1], [<span class="number">3</span>, p2])</span><br><span class="line">    ax.text(<span class="number">1</span> - <span class="number">0.05</span>, p1, c + <span class="string">', '</span> + str(round(p1)), horizontalalignment=<span class="string">'right'</span>, verticalalignment=<span class="string">'center'</span>,</span><br><span class="line">            fontdict=&#123;<span class="string">'size'</span>: <span class="number">14</span>&#125;)</span><br><span class="line">    ax.text(<span class="number">3</span> + <span class="number">0.05</span>, p2, c + <span class="string">', '</span> + str(round(p2)), horizontalalignment=<span class="string">'left'</span>, verticalalignment=<span class="string">'center'</span>,</span><br><span class="line">            fontdict=&#123;<span class="string">'size'</span>: <span class="number">14</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 'Before' and 'After' Annotations</span></span><br><span class="line">ax.text(<span class="number">1</span> - <span class="number">0.05</span>, <span class="number">13000</span>, <span class="string">'BEFORE'</span>, horizontalalignment=<span class="string">'right'</span>, verticalalignment=<span class="string">'center'</span>,</span><br><span class="line">        fontdict=&#123;<span class="string">'size'</span>: <span class="number">18</span>, <span class="string">'weight'</span>: <span class="number">700</span>&#125;)</span><br><span class="line">ax.text(<span class="number">3</span> + <span class="number">0.05</span>, <span class="number">13000</span>, <span class="string">'AFTER'</span>, horizontalalignment=<span class="string">'left'</span>, verticalalignment=<span class="string">'center'</span>,</span><br><span class="line">        fontdict=&#123;<span class="string">'size'</span>: <span class="number">18</span>, <span class="string">'weight'</span>: <span class="number">700</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decoration</span></span><br><span class="line">ax.set_title(<span class="string">"Slopechart: Comparing GDP Per Capita between 1952 vs 1957"</span>, fontdict=&#123;<span class="string">'size'</span>: <span class="number">22</span>&#125;)</span><br><span class="line">ax.set(xlim=(<span class="number">0</span>, <span class="number">4</span>), ylim=(<span class="number">0</span>, <span class="number">14000</span>), ylabel=<span class="string">'Mean GDP Per Capita'</span>)</span><br><span class="line">ax.set_xticks([<span class="number">1</span>, <span class="number">3</span>])</span><br><span class="line">ax.set_xticklabels([<span class="string">"1952"</span>, <span class="string">"1957"</span>])</span><br><span class="line">plt.yticks(np.arange(<span class="number">500</span>, <span class="number">13000</span>, <span class="number">2000</span>), fontsize=<span class="number">12</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Lighten borders</span></span><br><span class="line">plt.gca().spines[<span class="string">"top"</span>].set_alpha(<span class="number">.0</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"bottom"</span>].set_alpha(<span class="number">.0</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"right"</span>].set_alpha(<span class="number">.0</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"left"</span>].set_alpha(<span class="number">.0</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/20.png" alt="20"><br></fancybox>

<h3 id="【19】哑铃图（Dumbbell-Plot）"><a href="#【19】哑铃图（Dumbbell-Plot）" class="headerlink" title="【19】哑铃图（Dumbbell Plot）"></a><font color="##4876FF">【19】哑铃图（Dumbbell Plot）</font></h3><p>哑铃图传达了各种项目的“前”和“后”位置以及项目的等级顺序。如果您希望可视化特定项目/计划对不同对象的影响，那么它非常有用。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.lines <span class="keyword">as</span> mlines</span><br><span class="line"></span><br><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">"https://raw.githubusercontent.com/selva86/datasets/master/health.csv"</span>)</span><br><span class="line">df.sort_values(<span class="string">'pct_2014'</span>, inplace=<span class="keyword">True</span>)</span><br><span class="line">df.reset_index(inplace=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Func to draw line segment</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">newline</span><span class="params">(p1, p2, color=<span class="string">'black'</span>)</span>:</span></span><br><span class="line">    ax = plt.gca()</span><br><span class="line">    l = mlines.Line2D([p1[<span class="number">0</span>], p2[<span class="number">0</span>]], [p1[<span class="number">1</span>], p2[<span class="number">1</span>]], color=<span class="string">'skyblue'</span>)</span><br><span class="line">    ax.add_line(l)</span><br><span class="line">    <span class="keyword">return</span> l</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Figure and Axes</span></span><br><span class="line">fig, ax = plt.subplots(<span class="number">1</span>, <span class="number">1</span>, figsize=(<span class="number">14</span>, <span class="number">14</span>), facecolor=<span class="string">'#f7f7f7'</span>, dpi=<span class="number">80</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Vertical Lines</span></span><br><span class="line">ax.vlines(x=<span class="number">.05</span>, ymin=<span class="number">0</span>, ymax=<span class="number">26</span>, color=<span class="string">'black'</span>, alpha=<span class="number">1</span>, linewidth=<span class="number">1</span>, linestyles=<span class="string">'dotted'</span>)</span><br><span class="line">ax.vlines(x=<span class="number">.10</span>, ymin=<span class="number">0</span>, ymax=<span class="number">26</span>, color=<span class="string">'black'</span>, alpha=<span class="number">1</span>, linewidth=<span class="number">1</span>, linestyles=<span class="string">'dotted'</span>)</span><br><span class="line">ax.vlines(x=<span class="number">.15</span>, ymin=<span class="number">0</span>, ymax=<span class="number">26</span>, color=<span class="string">'black'</span>, alpha=<span class="number">1</span>, linewidth=<span class="number">1</span>, linestyles=<span class="string">'dotted'</span>)</span><br><span class="line">ax.vlines(x=<span class="number">.20</span>, ymin=<span class="number">0</span>, ymax=<span class="number">26</span>, color=<span class="string">'black'</span>, alpha=<span class="number">1</span>, linewidth=<span class="number">1</span>, linestyles=<span class="string">'dotted'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Points</span></span><br><span class="line">ax.scatter(y=df[<span class="string">'index'</span>], x=df[<span class="string">'pct_2013'</span>], s=<span class="number">50</span>, color=<span class="string">'#0e668b'</span>, alpha=<span class="number">0.7</span>)</span><br><span class="line">ax.scatter(y=df[<span class="string">'index'</span>], x=df[<span class="string">'pct_2014'</span>], s=<span class="number">50</span>, color=<span class="string">'#a3c4dc'</span>, alpha=<span class="number">0.7</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Line Segments</span></span><br><span class="line"><span class="keyword">for</span> i, p1, p2 <span class="keyword">in</span> zip(df[<span class="string">'index'</span>], df[<span class="string">'pct_2013'</span>], df[<span class="string">'pct_2014'</span>]):</span><br><span class="line">    newline([p1, i], [p2, i])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decoration</span></span><br><span class="line">ax.set_facecolor(<span class="string">'#f7f7f7'</span>)</span><br><span class="line">ax.set_title(<span class="string">"Dumbell Chart: Pct Change - 2013 vs 2014"</span>, fontdict=&#123;<span class="string">'size'</span>: <span class="number">22</span>&#125;)</span><br><span class="line">ax.set(xlim=(<span class="number">0</span>, <span class="number">.25</span>), ylim=(<span class="number">-1</span>, <span class="number">27</span>), ylabel=<span class="string">'Mean GDP Per Capita'</span>)</span><br><span class="line">ax.set_xticks([<span class="number">.05</span>, <span class="number">.1</span>, <span class="number">.15</span>, <span class="number">.20</span>])</span><br><span class="line">ax.set_xticklabels([<span class="string">'5%'</span>, <span class="string">'15%'</span>, <span class="string">'20%'</span>, <span class="string">'25%'</span>])</span><br><span class="line">ax.set_xticklabels([<span class="string">'5%'</span>, <span class="string">'15%'</span>, <span class="string">'20%'</span>, <span class="string">'25%'</span>])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/21.png" alt="21"><br></fancybox>

<h2 id="【6x00】分布（Distribution）"><a href="#【6x00】分布（Distribution）" class="headerlink" title="【6x00】分布（Distribution）"></a><font color="#FF0000">【6x00】分布（Distribution）</font></h2><h3 id="【20】连续变量的直方图（Histogram-for-Continuous-Variable）"><a href="#【20】连续变量的直方图（Histogram-for-Continuous-Variable）" class="headerlink" title="【20】连续变量的直方图（Histogram for Continuous Variable）"></a><font color="##4876FF">【20】连续变量的直方图（Histogram for Continuous Variable）</font></h3><p>连续变量的直方图显示给定变量的频率分布。下面的图表基于分类变量对频率条进行分组，从而更深入地了解连续变量和分类变量。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">"https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Prepare data</span></span><br><span class="line">x_var = <span class="string">'displ'</span></span><br><span class="line">groupby_var = <span class="string">'class'</span></span><br><span class="line">df_agg = df.loc[:, [x_var, groupby_var]].groupby(groupby_var)</span><br><span class="line">vals = [df[x_var].values.tolist() <span class="keyword">for</span> i, df <span class="keyword">in</span> df_agg]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw</span></span><br><span class="line">plt.figure(figsize=(<span class="number">16</span>, <span class="number">9</span>), dpi=<span class="number">80</span>)</span><br><span class="line">colors = [plt.cm.Spectral(i / float(len(vals) - <span class="number">1</span>)) <span class="keyword">for</span> i <span class="keyword">in</span> range(len(vals))]</span><br><span class="line">n, bins, patches = plt.hist(vals, <span class="number">30</span>, stacked=<span class="keyword">True</span>, density=<span class="keyword">False</span>, color=colors[:len(vals)])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decoration</span></span><br><span class="line">plt.legend(&#123;group: col <span class="keyword">for</span> group, col <span class="keyword">in</span> zip(np.unique(df[groupby_var]).tolist(), colors[:len(vals)])&#125;)</span><br><span class="line">plt.title(<span class="string">f"Stacked Histogram of $<span class="subst">&#123;x_var&#125;</span>$ colored by $<span class="subst">&#123;groupby_var&#125;</span>$"</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.xlabel(x_var)</span><br><span class="line">plt.ylabel(<span class="string">"Frequency"</span>)</span><br><span class="line">plt.ylim(<span class="number">0</span>, <span class="number">25</span>)</span><br><span class="line">plt.xticks(ticks=bins[::<span class="number">3</span>], labels=[round(b, <span class="number">1</span>) <span class="keyword">for</span> b <span class="keyword">in</span> bins[::<span class="number">3</span>]])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/22.png" alt="22"><br></fancybox>

<h3 id="【21】分类变量的直方图（Histogram-for-Categorical-Variable）"><a href="#【21】分类变量的直方图（Histogram-for-Categorical-Variable）" class="headerlink" title="【21】分类变量的直方图（Histogram for Categorical Variable）"></a><font color="##4876FF">【21】分类变量的直方图（Histogram for Categorical Variable）</font></h3><p>分类变量的直方图显示该变量的频率分布。通过给条形图上色，您可以将分布与表示颜色的另一个类型变量相关联。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">"https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Prepare data</span></span><br><span class="line">x_var = <span class="string">'manufacturer'</span></span><br><span class="line">groupby_var = <span class="string">'class'</span></span><br><span class="line">df_agg = df.loc[:, [x_var, groupby_var]].groupby(groupby_var)</span><br><span class="line">vals = [df[x_var].values.tolist() <span class="keyword">for</span> i, df <span class="keyword">in</span> df_agg]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw</span></span><br><span class="line">plt.figure(figsize=(<span class="number">16</span>, <span class="number">9</span>), dpi=<span class="number">80</span>)</span><br><span class="line">colors = [plt.cm.Spectral(i / float(len(vals) - <span class="number">1</span>)) <span class="keyword">for</span> i <span class="keyword">in</span> range(len(vals))]</span><br><span class="line">n, bins, patches = plt.hist(vals, df[x_var].unique().__len__(), stacked=<span class="keyword">True</span>, density=<span class="keyword">False</span>, color=colors[:len(vals)])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decoration</span></span><br><span class="line">plt.legend(&#123;group: col <span class="keyword">for</span> group, col <span class="keyword">in</span> zip(np.unique(df[groupby_var]).tolist(), colors[:len(vals)])&#125;)</span><br><span class="line">plt.title(<span class="string">f"Stacked Histogram of $<span class="subst">&#123;x_var&#125;</span>$ colored by $<span class="subst">&#123;groupby_var&#125;</span>$"</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.xlabel(x_var)</span><br><span class="line">plt.ylabel(<span class="string">"Frequency"</span>)</span><br><span class="line">plt.ylim(<span class="number">0</span>, <span class="number">40</span>)</span><br><span class="line">plt.xticks(ticks=bins, labels=np.unique(df[x_var]).tolist(), rotation=<span class="number">90</span>, horizontalalignment=<span class="string">'left'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/23.png" alt="23"><br></fancybox>

<h3 id="【22】密度图（Density-Plot）"><a href="#【22】密度图（Density-Plot）" class="headerlink" title="【22】密度图（Density Plot）"></a><font color="##4876FF">【22】密度图（Density Plot）</font></h3><p>密度图是连续变量分布可视化的常用工具。通过按“response”变量对它们进行分组，您可以检查 X 和 Y 之间的关系。如果出于代表性目的来描述城市里程分布如何随气缸数而变化，请参见下面的情况。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">"https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw Plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">16</span>, <span class="number">10</span>), dpi=<span class="number">80</span>)</span><br><span class="line">sns.kdeplot(df.loc[df[<span class="string">'cyl'</span>] == <span class="number">4</span>, <span class="string">"cty"</span>], shade=<span class="keyword">True</span>, color=<span class="string">"g"</span>, label=<span class="string">"Cyl=4"</span>, alpha=<span class="number">.7</span>)</span><br><span class="line">sns.kdeplot(df.loc[df[<span class="string">'cyl'</span>] == <span class="number">5</span>, <span class="string">"cty"</span>], shade=<span class="keyword">True</span>, color=<span class="string">"deeppink"</span>, label=<span class="string">"Cyl=5"</span>, alpha=<span class="number">.7</span>)</span><br><span class="line">sns.kdeplot(df.loc[df[<span class="string">'cyl'</span>] == <span class="number">6</span>, <span class="string">"cty"</span>], shade=<span class="keyword">True</span>, color=<span class="string">"dodgerblue"</span>, label=<span class="string">"Cyl=6"</span>, alpha=<span class="number">.7</span>)</span><br><span class="line">sns.kdeplot(df.loc[df[<span class="string">'cyl'</span>] == <span class="number">8</span>, <span class="string">"cty"</span>], shade=<span class="keyword">True</span>, color=<span class="string">"orange"</span>, label=<span class="string">"Cyl=8"</span>, alpha=<span class="number">.7</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decoration</span></span><br><span class="line">plt.title(<span class="string">'Density Plot of City Mileage by n_Cylinders'</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/24.png" alt="24"><br></fancybox>

<h3 id="【23】直方图密度曲线（Density-Curves-with-Histogram）"><a href="#【23】直方图密度曲线（Density-Curves-with-Histogram）" class="headerlink" title="【23】直方图密度曲线（Density Curves with Histogram）"></a><font color="##4876FF">【23】直方图密度曲线（Density Curves with Histogram）</font></h3><p>具有直方图的密度曲线将两个图所传达的信息集合在一起，因此您可以将它们都放在一个图形中，而不是放在两个图形中。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">"https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw Plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">13</span>, <span class="number">10</span>), dpi=<span class="number">80</span>)</span><br><span class="line">sns.distplot(df.loc[df[<span class="string">'class'</span>] == <span class="string">'compact'</span>, <span class="string">"cty"</span>], color=<span class="string">"dodgerblue"</span>, label=<span class="string">"Compact"</span>, hist_kws=&#123;<span class="string">'alpha'</span>: <span class="number">.7</span>&#125;,</span><br><span class="line">             kde_kws=&#123;<span class="string">'linewidth'</span>: <span class="number">3</span>&#125;)</span><br><span class="line">sns.distplot(df.loc[df[<span class="string">'class'</span>] == <span class="string">'suv'</span>, <span class="string">"cty"</span>], color=<span class="string">"orange"</span>, label=<span class="string">"SUV"</span>, hist_kws=&#123;<span class="string">'alpha'</span>: <span class="number">.7</span>&#125;,</span><br><span class="line">             kde_kws=&#123;<span class="string">'linewidth'</span>: <span class="number">3</span>&#125;)</span><br><span class="line">sns.distplot(df.loc[df[<span class="string">'class'</span>] == <span class="string">'minivan'</span>, <span class="string">"cty"</span>], color=<span class="string">"g"</span>, label=<span class="string">"minivan"</span>, hist_kws=&#123;<span class="string">'alpha'</span>: <span class="number">.7</span>&#125;,</span><br><span class="line">             kde_kws=&#123;<span class="string">'linewidth'</span>: <span class="number">3</span>&#125;)</span><br><span class="line">plt.ylim(<span class="number">0</span>, <span class="number">0.35</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decoration</span></span><br><span class="line">plt.title(<span class="string">'Density Plot of City Mileage by Vehicle Type'</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/25.png" alt="25"><br></fancybox>

<h3 id="【24】山峰叠峦图-欢乐图（Joy-Plot）"><a href="#【24】山峰叠峦图-欢乐图（Joy-Plot）" class="headerlink" title="【24】山峰叠峦图 / 欢乐图（Joy Plot）"></a><font color="##4876FF">【24】山峰叠峦图 / 欢乐图（Joy Plot）</font></h3><p>Joy Plot 允许不同组的密度曲线重叠，这是一种很好的可视化方法，可以直观地显示大量分组之间的关系。它看起来赏心悦目，清楚地传达了正确的信息。它可以使用基于 <code>matplotlib</code> 的 <code>joypy</code> 包轻松构建。</p>
<p>【译者 TRHX 注：Joy Plot 看起来就像是山峰叠峦，山峦起伏，层次分明，但取名为 Joy，欢乐的意思，所以不太好翻译，在使用该方法时要先安装 joypy 库】</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># !pip install joypy</span></span><br><span class="line"><span class="comment"># Import Data</span></span><br><span class="line"><span class="keyword">import</span> joypy</span><br><span class="line"><span class="comment"># 原文没有 import joypy，译者 TRHX 添加</span></span><br><span class="line"></span><br><span class="line">mpg = pd.read_csv(<span class="string">"https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw Plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">16</span>, <span class="number">10</span>), dpi=<span class="number">80</span>)</span><br><span class="line">fig, axes = joypy.joyplot(mpg, column=[<span class="string">'hwy'</span>, <span class="string">'cty'</span>], by=<span class="string">"class"</span>, ylim=<span class="string">'own'</span>, figsize=(<span class="number">14</span>, <span class="number">10</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decoration</span></span><br><span class="line">plt.title(<span class="string">'Joy Plot of City and Highway Mileage by Class'</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/26.png" alt="26"><br></fancybox>

<h3 id="【25】分布式点图（Distributed-Dot-Plot）"><a href="#【25】分布式点图（Distributed-Dot-Plot）" class="headerlink" title="【25】分布式点图（Distributed Dot Plot）"></a><font color="##4876FF">【25】分布式点图（Distributed Dot Plot）</font></h3><p>分布点图显示按组分割的点的单变量分布。点越暗，数据点在该区域的集中程度就越高。通过对中值进行不同的着色，这些组的真实位置立即变得明显。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.patches <span class="keyword">as</span> mpatches</span><br><span class="line"></span><br><span class="line"><span class="comment"># Prepare Data</span></span><br><span class="line">df_raw = pd.read_csv(<span class="string">"https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv"</span>)</span><br><span class="line">cyl_colors = &#123;<span class="number">4</span>: <span class="string">'tab:red'</span>, <span class="number">5</span>: <span class="string">'tab:green'</span>, <span class="number">6</span>: <span class="string">'tab:blue'</span>, <span class="number">8</span>: <span class="string">'tab:orange'</span>&#125;</span><br><span class="line">df_raw[<span class="string">'cyl_color'</span>] = df_raw.cyl.map(cyl_colors)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Mean and Median city mileage by make</span></span><br><span class="line">df = df_raw[[<span class="string">'cty'</span>, <span class="string">'manufacturer'</span>]].groupby(<span class="string">'manufacturer'</span>).apply(<span class="keyword">lambda</span> x: x.mean())</span><br><span class="line">df.sort_values(<span class="string">'cty'</span>, ascending=<span class="keyword">False</span>, inplace=<span class="keyword">True</span>)</span><br><span class="line">df.reset_index(inplace=<span class="keyword">True</span>)</span><br><span class="line">df_median = df_raw[[<span class="string">'cty'</span>, <span class="string">'manufacturer'</span>]].groupby(<span class="string">'manufacturer'</span>).apply(<span class="keyword">lambda</span> x: x.median())</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw horizontal lines</span></span><br><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">16</span>, <span class="number">10</span>), dpi=<span class="number">80</span>)</span><br><span class="line">ax.hlines(y=df.index, xmin=<span class="number">0</span>, xmax=<span class="number">40</span>, color=<span class="string">'gray'</span>, alpha=<span class="number">0.5</span>, linewidth=<span class="number">.5</span>, linestyles=<span class="string">'dashdot'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw the Dots</span></span><br><span class="line"><span class="keyword">for</span> i, make <span class="keyword">in</span> enumerate(df.manufacturer):</span><br><span class="line">    df_make = df_raw.loc[df_raw.manufacturer == make, :]</span><br><span class="line">    ax.scatter(y=np.repeat(i, df_make.shape[<span class="number">0</span>]), x=<span class="string">'cty'</span>, data=df_make, s=<span class="number">75</span>, edgecolors=<span class="string">'gray'</span>, c=<span class="string">'w'</span>, alpha=<span class="number">0.5</span>)</span><br><span class="line">    ax.scatter(y=i, x=<span class="string">'cty'</span>, data=df_median.loc[df_median.index == make, :], s=<span class="number">75</span>, c=<span class="string">'firebrick'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Annotate</span></span><br><span class="line">ax.text(<span class="number">33</span>, <span class="number">13</span>, <span class="string">"$red \; dots \; are \; the \: median$"</span>, fontdict=&#123;<span class="string">'size'</span>: <span class="number">12</span>&#125;, color=<span class="string">'firebrick'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line">red_patch = plt.plot([], [], marker=<span class="string">"o"</span>, ms=<span class="number">10</span>, ls=<span class="string">""</span>, mec=<span class="keyword">None</span>, color=<span class="string">'firebrick'</span>, label=<span class="string">"Median"</span>)</span><br><span class="line">plt.legend(handles=red_patch)</span><br><span class="line">ax.set_title(<span class="string">'Distribution of City Mileage by Make'</span>, fontdict=&#123;<span class="string">'size'</span>: <span class="number">22</span>&#125;)</span><br><span class="line">ax.set_xlabel(<span class="string">'Miles Per Gallon (City)'</span>, alpha=<span class="number">0.7</span>)</span><br><span class="line">ax.set_yticks(df.index)</span><br><span class="line">ax.set_yticklabels(df.manufacturer.str.title(), fontdict=&#123;<span class="string">'horizontalalignment'</span>: <span class="string">'right'</span>&#125;, alpha=<span class="number">0.7</span>)</span><br><span class="line">ax.set_xlim(<span class="number">1</span>, <span class="number">40</span>)</span><br><span class="line">plt.xticks(alpha=<span class="number">0.7</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"top"</span>].set_visible(<span class="keyword">False</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"bottom"</span>].set_visible(<span class="keyword">False</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"right"</span>].set_visible(<span class="keyword">False</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"left"</span>].set_visible(<span class="keyword">False</span>)</span><br><span class="line">plt.grid(axis=<span class="string">'both'</span>, alpha=<span class="number">.4</span>, linewidth=<span class="number">.1</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/27.png" alt="27"><br></fancybox>

<h3 id="【26】箱形图（Box-Plot）"><a href="#【26】箱形图（Box-Plot）" class="headerlink" title="【26】箱形图（Box Plot）"></a><font color="##4876FF">【26】箱形图（Box Plot）</font></h3><p>箱形图是可视化分布的一种好方法，同时牢记中位数，第 25 个第 75 个四分位数和离群值。 但是，在解释方框的大小时需要小心，这可能会扭曲该组中包含的点数。 因此，手动提供每个框中的观察次数可以帮助克服此缺点。</p>
<p>例如，左侧的前两个框，尽管它们分别具有 5 和 47 个 obs，但是却具有相同大小， 因此，有必要写下该组中的观察数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">"https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw Plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">13</span>, <span class="number">10</span>), dpi=<span class="number">80</span>)</span><br><span class="line">sns.boxplot(x=<span class="string">'class'</span>, y=<span class="string">'hwy'</span>, data=df, notch=<span class="keyword">False</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Add N Obs inside boxplot (optional)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_n_obs</span><span class="params">(df, group_col, y)</span>:</span></span><br><span class="line">    medians_dict = &#123;grp[<span class="number">0</span>]: grp[<span class="number">1</span>][y].median() <span class="keyword">for</span> grp <span class="keyword">in</span> df.groupby(group_col)&#125;</span><br><span class="line">    xticklabels = [x.get_text() <span class="keyword">for</span> x <span class="keyword">in</span> plt.gca().get_xticklabels()]</span><br><span class="line">    n_obs = df.groupby(group_col)[y].size().values</span><br><span class="line">    <span class="keyword">for</span> (x, xticklabel), n_ob <span class="keyword">in</span> zip(enumerate(xticklabels), n_obs):</span><br><span class="line">        plt.text(x, medians_dict[xticklabel] * <span class="number">1.01</span>, <span class="string">"#obs : "</span> + str(n_ob), horizontalalignment=<span class="string">'center'</span>,</span><br><span class="line">                 fontdict=&#123;<span class="string">'size'</span>: <span class="number">14</span>&#125;, color=<span class="string">'white'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">add_n_obs(df, group_col=<span class="string">'class'</span>, y=<span class="string">'hwy'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decoration</span></span><br><span class="line">plt.title(<span class="string">'Box Plot of Highway Mileage by Vehicle Class'</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.ylim(<span class="number">10</span>, <span class="number">40</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/28.png" alt="28"><br></fancybox>

<h3 id="【27】点-箱形图（Dot-Box-Plot）"><a href="#【27】点-箱形图（Dot-Box-Plot）" class="headerlink" title="【27】点 + 箱形图（Dot + Box Plot）"></a><font color="##4876FF">【27】点 + 箱形图（Dot + Box Plot）</font></h3><p>点 + 箱形图传达类似于分组的箱形图信息。此外，这些点还提供了每组中有多少数据点的含义。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">"https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw Plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">13</span>,<span class="number">10</span>), dpi= <span class="number">80</span>)</span><br><span class="line">sns.boxplot(x=<span class="string">'class'</span>, y=<span class="string">'hwy'</span>, data=df, hue=<span class="string">'cyl'</span>)</span><br><span class="line">sns.stripplot(x=<span class="string">'class'</span>, y=<span class="string">'hwy'</span>, data=df, color=<span class="string">'black'</span>, size=<span class="number">3</span>, jitter=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(df[<span class="string">'class'</span>].unique())<span class="number">-1</span>):</span><br><span class="line">    plt.vlines(i+<span class="number">.5</span>, <span class="number">10</span>, <span class="number">45</span>, linestyles=<span class="string">'solid'</span>, colors=<span class="string">'gray'</span>, alpha=<span class="number">0.2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decoration</span></span><br><span class="line">plt.title(<span class="string">'Box Plot of Highway Mileage by Vehicle Class'</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.legend(title=<span class="string">'Cylinders'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/29.png" alt="29"><br></fancybox>

<h3 id="【28】小提琴图（Violin-Plot）"><a href="#【28】小提琴图（Violin-Plot）" class="headerlink" title="【28】小提琴图（Violin Plot）"></a><font color="##4876FF">【28】小提琴图（Violin Plot）</font></h3><p>小提琴图是箱形图在视觉上令人愉悦的替代品。 小提琴的形状或面积取决于它所持有的观察次数。 但是，小提琴图可能更难以阅读，并且在专业设置中不常用。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">"https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw Plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">13</span>, <span class="number">10</span>), dpi=<span class="number">80</span>)</span><br><span class="line">sns.violinplot(x=<span class="string">'class'</span>, y=<span class="string">'hwy'</span>, data=df, scale=<span class="string">'width'</span>, inner=<span class="string">'quartile'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decoration</span></span><br><span class="line">plt.title(<span class="string">'Violin Plot of Highway Mileage by Vehicle Class'</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/30.png" alt="30"><br></fancybox>

<h3 id="【29】人口金字塔图（Population-Pyramid）"><a href="#【29】人口金字塔图（Population-Pyramid）" class="headerlink" title="【29】人口金字塔图（Population Pyramid）"></a><font color="##4876FF">【29】人口金字塔图（Population Pyramid）</font></h3><p>人口金字塔可用于显示按体积排序的组的分布。或者它也可以用于显示人口的逐级过滤，因为它是用来显示有多少人通过一个营销漏斗（Marketing Funnel）的每个阶段。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Read data</span></span><br><span class="line">df = pd.read_csv(<span class="string">"https://raw.githubusercontent.com/selva86/datasets/master/email_campaign_funnel.csv"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw Plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">13</span>, <span class="number">10</span>), dpi=<span class="number">80</span>)</span><br><span class="line">group_col = <span class="string">'Gender'</span></span><br><span class="line">order_of_bars = df.Stage.unique()[::<span class="number">-1</span>]</span><br><span class="line">colors = [plt.cm.Spectral(i / float(len(df[group_col].unique()) - <span class="number">1</span>)) <span class="keyword">for</span> i <span class="keyword">in</span> range(len(df[group_col].unique()))]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> c, group <span class="keyword">in</span> zip(colors, df[group_col].unique()):</span><br><span class="line">    sns.barplot(x=<span class="string">'Users'</span>, y=<span class="string">'Stage'</span>, data=df.loc[df[group_col] == group, :], order=order_of_bars, color=c, label=group)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line">plt.xlabel(<span class="string">"$Users$"</span>)</span><br><span class="line">plt.ylabel(<span class="string">"Stage of Purchase"</span>)</span><br><span class="line">plt.yticks(fontsize=<span class="number">12</span>)</span><br><span class="line">plt.title(<span class="string">"Population Pyramid of the Marketing Funnel"</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/31.png" alt="31"><br></fancybox>

<h3 id="【30】分类图（Categorical-Plots）"><a href="#【30】分类图（Categorical-Plots）" class="headerlink" title="【30】分类图（Categorical Plots）"></a><font color="##4876FF">【30】分类图（Categorical Plots）</font></h3><p>由 <code>seaborn</code> 库提供的分类图可用于可视化彼此相关的两个或更多分类变量的计数分布。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Load Dataset</span></span><br><span class="line">titanic = sns.load_dataset(<span class="string">"titanic"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot</span></span><br><span class="line">g = sns.catplot(<span class="string">"alive"</span>, col=<span class="string">"deck"</span>, col_wrap=<span class="number">4</span>,</span><br><span class="line">                data=titanic[titanic.deck.notnull()],</span><br><span class="line">                kind=<span class="string">"count"</span>, height=<span class="number">3.5</span>, aspect=<span class="number">.8</span>,</span><br><span class="line">                palette=<span class="string">'tab20'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 译者 TRHX 注释掉了这一行代码</span></span><br><span class="line"><span class="comment"># fig.suptitle('sf')</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/32.png" alt="32"><br></fancybox>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Load Dataset</span></span><br><span class="line">titanic = sns.load_dataset(<span class="string">"titanic"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot</span></span><br><span class="line">sns.catplot(x=<span class="string">"age"</span>, y=<span class="string">"embark_town"</span>,</span><br><span class="line">            hue=<span class="string">"sex"</span>, col=<span class="string">"class"</span>,</span><br><span class="line">            data=titanic[titanic.embark_town.notnull()],</span><br><span class="line">            orient=<span class="string">"h"</span>, height=<span class="number">5</span>, aspect=<span class="number">1</span>, palette=<span class="string">"tab10"</span>,</span><br><span class="line">            kind=<span class="string">"violin"</span>, dodge=<span class="keyword">True</span>, cut=<span class="number">0</span>, bw=<span class="number">.2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 译者 TRHX 添加了这行代码</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/33.png" alt="33"><br></fancybox>

<h2 id="【7x00】组成（Composition）"><a href="#【7x00】组成（Composition）" class="headerlink" title="【7x00】组成（Composition）"></a><font color="#FF0000">【7x00】组成（Composition）</font></h2><h3 id="【31】华夫饼图（Waffle-Chart）"><a href="#【31】华夫饼图（Waffle-Chart）" class="headerlink" title="【31】华夫饼图（Waffle Chart）"></a><font color="##4876FF">【31】华夫饼图（Waffle Chart）</font></h3><p>华夫饼图可以使用 <code>pywaffle</code> 包创建，用于显示较大群体中的组的组成。</p>
<p>【译者 TRHX 注：在使用该方法时要先安装 pywaffle 库】</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ! pip install pywaffle</span></span><br><span class="line"><span class="comment"># Reference: https://stackoverflow.com/questions/41400136/how-to-do-waffle-charts-in-python-square-piechart</span></span><br><span class="line"><span class="keyword">from</span> pywaffle <span class="keyword">import</span> Waffle</span><br><span class="line"></span><br><span class="line"><span class="comment"># Import</span></span><br><span class="line">df_raw = pd.read_csv(<span class="string">"https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Prepare Data</span></span><br><span class="line">df = df_raw.groupby(<span class="string">'class'</span>).size().reset_index(name=<span class="string">'counts'</span>)</span><br><span class="line">n_categories = df.shape[<span class="number">0</span>]</span><br><span class="line">colors = [plt.cm.inferno_r(i / float(n_categories)) <span class="keyword">for</span> i <span class="keyword">in</span> range(n_categories)]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw Plot and Decorate</span></span><br><span class="line">fig = plt.figure(</span><br><span class="line">    FigureClass=Waffle,</span><br><span class="line">    plots=&#123;</span><br><span class="line">        <span class="string">'111'</span>: &#123;</span><br><span class="line">            <span class="string">'values'</span>: df[<span class="string">'counts'</span>],</span><br><span class="line">            <span class="string">'labels'</span>: [<span class="string">"&#123;0&#125; (&#123;1&#125;)"</span>.format(n[<span class="number">0</span>], n[<span class="number">1</span>]) <span class="keyword">for</span> n <span class="keyword">in</span> df[[<span class="string">'class'</span>, <span class="string">'counts'</span>]].itertuples()],</span><br><span class="line">            <span class="string">'legend'</span>: &#123;<span class="string">'loc'</span>: <span class="string">'upper left'</span>, <span class="string">'bbox_to_anchor'</span>: (<span class="number">1.05</span>, <span class="number">1</span>), <span class="string">'fontsize'</span>: <span class="number">12</span>&#125;,</span><br><span class="line">            <span class="string">'title'</span>: &#123;<span class="string">'label'</span>: <span class="string">'# Vehicles by Class'</span>, <span class="string">'loc'</span>: <span class="string">'center'</span>, <span class="string">'fontsize'</span>: <span class="number">18</span>&#125;</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    rows=<span class="number">7</span>,</span><br><span class="line">    colors=colors,</span><br><span class="line">    figsize=(<span class="number">16</span>, <span class="number">9</span>)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 译者 TRHX 添加了这行代码</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/34.png" alt="34"><br></fancybox>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ! pip install pywaffle</span></span><br><span class="line"><span class="keyword">from</span> pywaffle <span class="keyword">import</span> Waffle</span><br><span class="line"></span><br><span class="line"><span class="comment"># Import</span></span><br><span class="line"><span class="comment"># 译者 TRHX 取消注释了这行代码</span></span><br><span class="line">df_raw = pd.read_csv(<span class="string">"https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Prepare Data</span></span><br><span class="line"><span class="comment"># By Class Data</span></span><br><span class="line">df_class = df_raw.groupby(<span class="string">'class'</span>).size().reset_index(name=<span class="string">'counts_class'</span>)</span><br><span class="line">n_categories = df_class.shape[<span class="number">0</span>]</span><br><span class="line">colors_class = [plt.cm.Set3(i / float(n_categories)) <span class="keyword">for</span> i <span class="keyword">in</span> range(n_categories)]</span><br><span class="line"></span><br><span class="line"><span class="comment"># By Cylinders Data</span></span><br><span class="line">df_cyl = df_raw.groupby(<span class="string">'cyl'</span>).size().reset_index(name=<span class="string">'counts_cyl'</span>)</span><br><span class="line">n_categories = df_cyl.shape[<span class="number">0</span>]</span><br><span class="line">colors_cyl = [plt.cm.Spectral(i / float(n_categories)) <span class="keyword">for</span> i <span class="keyword">in</span> range(n_categories)]</span><br><span class="line"></span><br><span class="line"><span class="comment"># By Make Data</span></span><br><span class="line">df_make = df_raw.groupby(<span class="string">'manufacturer'</span>).size().reset_index(name=<span class="string">'counts_make'</span>)</span><br><span class="line">n_categories = df_make.shape[<span class="number">0</span>]</span><br><span class="line">colors_make = [plt.cm.tab20b(i / float(n_categories)) <span class="keyword">for</span> i <span class="keyword">in</span> range(n_categories)]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw Plot and Decorate</span></span><br><span class="line">fig = plt.figure(</span><br><span class="line">    FigureClass=Waffle,</span><br><span class="line">    plots=&#123;</span><br><span class="line">        <span class="string">'311'</span>: &#123;</span><br><span class="line">            <span class="string">'values'</span>: df_class[<span class="string">'counts_class'</span>],</span><br><span class="line">            <span class="string">'labels'</span>: [<span class="string">"&#123;1&#125;"</span>.format(n[<span class="number">0</span>], n[<span class="number">1</span>]) <span class="keyword">for</span> n <span class="keyword">in</span> df_class[[<span class="string">'class'</span>, <span class="string">'counts_class'</span>]].itertuples()],</span><br><span class="line">            <span class="string">'legend'</span>: &#123;<span class="string">'loc'</span>: <span class="string">'upper left'</span>, <span class="string">'bbox_to_anchor'</span>: (<span class="number">1.05</span>, <span class="number">1</span>), <span class="string">'fontsize'</span>: <span class="number">12</span>, <span class="string">'title'</span>: <span class="string">'Class'</span>&#125;,</span><br><span class="line">            <span class="string">'title'</span>: &#123;<span class="string">'label'</span>: <span class="string">'# Vehicles by Class'</span>, <span class="string">'loc'</span>: <span class="string">'center'</span>, <span class="string">'fontsize'</span>: <span class="number">18</span>&#125;,</span><br><span class="line">            <span class="string">'colors'</span>: colors_class</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">'312'</span>: &#123;</span><br><span class="line">            <span class="string">'values'</span>: df_cyl[<span class="string">'counts_cyl'</span>],</span><br><span class="line">            <span class="string">'labels'</span>: [<span class="string">"&#123;1&#125;"</span>.format(n[<span class="number">0</span>], n[<span class="number">1</span>]) <span class="keyword">for</span> n <span class="keyword">in</span> df_cyl[[<span class="string">'cyl'</span>, <span class="string">'counts_cyl'</span>]].itertuples()],</span><br><span class="line">            <span class="string">'legend'</span>: &#123;<span class="string">'loc'</span>: <span class="string">'upper left'</span>, <span class="string">'bbox_to_anchor'</span>: (<span class="number">1.05</span>, <span class="number">1</span>), <span class="string">'fontsize'</span>: <span class="number">12</span>, <span class="string">'title'</span>: <span class="string">'Cyl'</span>&#125;,</span><br><span class="line">            <span class="string">'title'</span>: &#123;<span class="string">'label'</span>: <span class="string">'# Vehicles by Cyl'</span>, <span class="string">'loc'</span>: <span class="string">'center'</span>, <span class="string">'fontsize'</span>: <span class="number">18</span>&#125;,</span><br><span class="line">            <span class="string">'colors'</span>: colors_cyl</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">'313'</span>: &#123;</span><br><span class="line">            <span class="string">'values'</span>: df_make[<span class="string">'counts_make'</span>],</span><br><span class="line">            <span class="string">'labels'</span>: [<span class="string">"&#123;1&#125;"</span>.format(n[<span class="number">0</span>], n[<span class="number">1</span>]) <span class="keyword">for</span> n <span class="keyword">in</span> df_make[[<span class="string">'manufacturer'</span>, <span class="string">'counts_make'</span>]].itertuples()],</span><br><span class="line">            <span class="string">'legend'</span>: &#123;<span class="string">'loc'</span>: <span class="string">'upper left'</span>, <span class="string">'bbox_to_anchor'</span>: (<span class="number">1.05</span>, <span class="number">1</span>), <span class="string">'fontsize'</span>: <span class="number">12</span>, <span class="string">'title'</span>: <span class="string">'Manufacturer'</span>&#125;,</span><br><span class="line">            <span class="string">'title'</span>: &#123;<span class="string">'label'</span>: <span class="string">'# Vehicles by Make'</span>, <span class="string">'loc'</span>: <span class="string">'center'</span>, <span class="string">'fontsize'</span>: <span class="number">18</span>&#125;,</span><br><span class="line">            <span class="string">'colors'</span>: colors_make</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    rows=<span class="number">9</span>,</span><br><span class="line">    figsize=(<span class="number">16</span>, <span class="number">14</span>)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 译者 TRHX 添加了这行代码</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/35.png" alt="35"><br></fancybox>

<h3 id="【32】饼图（Pie-Chart）"><a href="#【32】饼图（Pie-Chart）" class="headerlink" title="【32】饼图（Pie Chart）"></a><font color="##4876FF">【32】饼图（Pie Chart）</font></h3><p>饼图是显示组成的经典方法。然而，现在一般不宜使用，因为馅饼部分的面积有时会产生误导。因此，如果要使用饼图，强烈建议您显式地记下饼图每个部分的百分比或数字。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import</span></span><br><span class="line">df_raw = pd.read_csv(<span class="string">"https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Prepare Data</span></span><br><span class="line">df = df_raw.groupby(<span class="string">'class'</span>).size()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Make the plot with pandas</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">原代码：df.plot(kind='pie', subplots=True, figsize=(8, 8), dpi=80)</span></span><br><span class="line"><span class="string">译者 TRHX 删除了 dpi= 80</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">df.plot(kind=<span class="string">'pie'</span>, subplots=<span class="keyword">True</span>, figsize=(<span class="number">8</span>, <span class="number">8</span>))</span><br><span class="line">plt.title(<span class="string">"Pie Chart of Vehicle Class - Bad"</span>)</span><br><span class="line">plt.ylabel(<span class="string">""</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/36.png" alt="36"><br></fancybox>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import</span></span><br><span class="line">df_raw = pd.read_csv(<span class="string">"https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Prepare Data</span></span><br><span class="line">df = df_raw.groupby(<span class="string">'class'</span>).size().reset_index(name=<span class="string">'counts'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw Plot</span></span><br><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">12</span>, <span class="number">7</span>), subplot_kw=dict(aspect=<span class="string">"equal"</span>), dpi=<span class="number">80</span>)</span><br><span class="line"></span><br><span class="line">data = df[<span class="string">'counts'</span>]</span><br><span class="line">categories = df[<span class="string">'class'</span>]</span><br><span class="line">explode = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>, <span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(pct, allvals)</span>:</span></span><br><span class="line">    absolute = int(pct / <span class="number">100.</span> * np.sum(allvals))</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"&#123;:.1f&#125;% (&#123;:d&#125; )"</span>.format(pct, absolute)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">wedges, texts, autotexts = ax.pie(data,</span><br><span class="line">                                  autopct=<span class="keyword">lambda</span> pct: func(pct, data),</span><br><span class="line">                                  textprops=dict(color=<span class="string">"w"</span>),</span><br><span class="line">                                  colors=plt.cm.Dark2.colors,</span><br><span class="line">                                  startangle=<span class="number">140</span>,</span><br><span class="line">                                  explode=explode)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decoration</span></span><br><span class="line">ax.legend(wedges, categories, title=<span class="string">"Vehicle Class"</span>, loc=<span class="string">"center left"</span>, bbox_to_anchor=(<span class="number">1</span>, <span class="number">0</span>, <span class="number">0.5</span>, <span class="number">1</span>))</span><br><span class="line">plt.setp(autotexts, size=<span class="number">10</span>, weight=<span class="number">700</span>)</span><br><span class="line">ax.set_title(<span class="string">"Class of Vehicles: Pie Chart"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/37.png" alt="37"><br></fancybox>

<h3 id="【33】矩阵树形图（Treemap）"><a href="#【33】矩阵树形图（Treemap）" class="headerlink" title="【33】矩阵树形图（Treemap）"></a><font color="##4876FF">【33】矩阵树形图（Treemap）</font></h3><p>矩阵树形图类似于饼图，它可以更好地完成工作而不会误导每个组的贡献。</p>
<p>【译者 TRHX 注：在使用该方法时要先安装 squarify 库】</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pip install squarify</span></span><br><span class="line"><span class="keyword">import</span> squarify</span><br><span class="line"></span><br><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df_raw = pd.read_csv(<span class="string">"https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Prepare Data</span></span><br><span class="line">df = df_raw.groupby(<span class="string">'class'</span>).size().reset_index(name=<span class="string">'counts'</span>)</span><br><span class="line">labels = df.apply(<span class="keyword">lambda</span> x: str(x[<span class="number">0</span>]) + <span class="string">"\n ("</span> + str(x[<span class="number">1</span>]) + <span class="string">")"</span>, axis=<span class="number">1</span>)</span><br><span class="line">sizes = df[<span class="string">'counts'</span>].values.tolist()</span><br><span class="line">colors = [plt.cm.Spectral(i / float(len(labels))) <span class="keyword">for</span> i <span class="keyword">in</span> range(len(labels))]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw Plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">12</span>, <span class="number">8</span>), dpi=<span class="number">80</span>)</span><br><span class="line">squarify.plot(sizes=sizes, label=labels, color=colors, alpha=<span class="number">.8</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorate</span></span><br><span class="line">plt.title(<span class="string">'Treemap of Vechile Class'</span>)</span><br><span class="line">plt.axis(<span class="string">'off'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/38.png" alt="38"><br></fancybox>

<h3 id="【34】条形图（Bar-Chart）"><a href="#【34】条形图（Bar-Chart）" class="headerlink" title="【34】条形图（Bar Chart）"></a><font color="##4876FF">【34】条形图（Bar Chart）</font></h3><p>条形图是一种基于计数或任何给定度量的可视化项的经典方法。在下面的图表中，我为每个项目使用了不同的颜色，但您通常可能希望为所有项目选择一种颜色，除非您按组对它们进行着色。颜色名称存储在下面代码中的 <code>all_colors</code> 中。您可以通过在 <code>plt.plot()</code> 中设置 <code>color</code> 参数来更改条形的颜色。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df_raw = pd.read_csv(<span class="string">"https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Prepare Data</span></span><br><span class="line">df = df_raw.groupby(<span class="string">'manufacturer'</span>).size().reset_index(name=<span class="string">'counts'</span>)</span><br><span class="line">n = df[<span class="string">'manufacturer'</span>].unique().__len__()+<span class="number">1</span></span><br><span class="line">all_colors = list(plt.cm.colors.cnames.keys())</span><br><span class="line">random.seed(<span class="number">100</span>)</span><br><span class="line">c = random.choices(all_colors, k=n)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot Bars</span></span><br><span class="line">plt.figure(figsize=(<span class="number">16</span>,<span class="number">10</span>), dpi= <span class="number">80</span>)</span><br><span class="line">plt.bar(df[<span class="string">'manufacturer'</span>], df[<span class="string">'counts'</span>], color=c, width=<span class="number">.5</span>)</span><br><span class="line"><span class="keyword">for</span> i, val <span class="keyword">in</span> enumerate(df[<span class="string">'counts'</span>].values):</span><br><span class="line">    plt.text(i, val, float(val), horizontalalignment=<span class="string">'center'</span>, verticalalignment=<span class="string">'bottom'</span>, fontdict=&#123;<span class="string">'fontweight'</span>:<span class="number">500</span>, <span class="string">'size'</span>:<span class="number">12</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decoration</span></span><br><span class="line">plt.gca().set_xticklabels(df[<span class="string">'manufacturer'</span>], rotation=<span class="number">60</span>, horizontalalignment= <span class="string">'right'</span>)</span><br><span class="line">plt.title(<span class="string">"Number of Vehicles by Manaufacturers"</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.ylabel(<span class="string">'# Vehicles'</span>)</span><br><span class="line">plt.ylim(<span class="number">0</span>, <span class="number">45</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/39.png" alt="39"><br></fancybox>

<h2 id="【8x00】变化（Change）"><a href="#【8x00】变化（Change）" class="headerlink" title="【8x00】变化（Change）"></a><font color="#FF0000">【8x00】变化（Change）</font></h2><h3 id="【35】时间序列图（Time-Series-Plot）"><a href="#【35】时间序列图（Time-Series-Plot）" class="headerlink" title="【35】时间序列图（Time Series Plot）"></a><font color="##4876FF">【35】时间序列图（Time Series Plot）</font></h3><p>时间序列图用于可视化给定指标随时间的变化。在这里你可以看到 1949 年到 1969 年间的航空客运量是如何变化的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">'https://github.com/selva86/datasets/raw/master/AirPassengers.csv'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw Plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">16</span>, <span class="number">10</span>), dpi=<span class="number">80</span>)</span><br><span class="line">plt.plot(<span class="string">'date'</span>, <span class="string">'traffic'</span>, data=df, color=<span class="string">'tab:red'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decoration</span></span><br><span class="line">plt.ylim(<span class="number">50</span>, <span class="number">750</span>)</span><br><span class="line">xtick_location = df.index.tolist()[::<span class="number">12</span>]</span><br><span class="line">xtick_labels = [x[<span class="number">-4</span>:] <span class="keyword">for</span> x <span class="keyword">in</span> df.date.tolist()[::<span class="number">12</span>]]</span><br><span class="line">plt.xticks(ticks=xtick_location, labels=xtick_labels, rotation=<span class="number">0</span>, fontsize=<span class="number">12</span>, horizontalalignment=<span class="string">'center'</span>, alpha=<span class="number">.7</span>)</span><br><span class="line">plt.yticks(fontsize=<span class="number">12</span>, alpha=<span class="number">.7</span>)</span><br><span class="line">plt.title(<span class="string">"Air Passengers Traffic (1949 - 1969)"</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.grid(axis=<span class="string">'both'</span>, alpha=<span class="number">.3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Remove borders</span></span><br><span class="line">plt.gca().spines[<span class="string">"top"</span>].set_alpha(<span class="number">0.0</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"bottom"</span>].set_alpha(<span class="number">0.3</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"right"</span>].set_alpha(<span class="number">0.0</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"left"</span>].set_alpha(<span class="number">0.3</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/40.png" alt="40"><br></fancybox>

<h3 id="【36】带波峰和波谷注释的时间序列图（Time-Series-with-Peaks-and-Troughs-Annotated）"><a href="#【36】带波峰和波谷注释的时间序列图（Time-Series-with-Peaks-and-Troughs-Annotated）" class="headerlink" title="【36】带波峰和波谷注释的时间序列图（Time Series with Peaks and Troughs Annotated）"></a><font color="##4876FF">【36】带波峰和波谷注释的时间序列图（Time Series with Peaks and Troughs Annotated）</font></h3><p>下面的时间序列绘制了所有的波峰和波谷，并注释了所选特殊事件的发生。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">'https://github.com/selva86/datasets/raw/master/AirPassengers.csv'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Get the Peaks and Troughs</span></span><br><span class="line">data = df[<span class="string">'traffic'</span>].values</span><br><span class="line">doublediff = np.diff(np.sign(np.diff(data)))</span><br><span class="line">peak_locations = np.where(doublediff == <span class="number">-2</span>)[<span class="number">0</span>] + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">doublediff2 = np.diff(np.sign(np.diff(<span class="number">-1</span> * data)))</span><br><span class="line">trough_locations = np.where(doublediff2 == <span class="number">-2</span>)[<span class="number">0</span>] + <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw Plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">16</span>, <span class="number">10</span>), dpi=<span class="number">80</span>)</span><br><span class="line">plt.plot(<span class="string">'date'</span>, <span class="string">'traffic'</span>, data=df, color=<span class="string">'tab:blue'</span>, label=<span class="string">'Air Traffic'</span>)</span><br><span class="line">plt.scatter(df.date[peak_locations], df.traffic[peak_locations], marker=mpl.markers.CARETUPBASE, color=<span class="string">'tab:green'</span>,</span><br><span class="line">            s=<span class="number">100</span>, label=<span class="string">'Peaks'</span>)</span><br><span class="line">plt.scatter(df.date[trough_locations], df.traffic[trough_locations], marker=mpl.markers.CARETDOWNBASE, color=<span class="string">'tab:red'</span>,</span><br><span class="line">            s=<span class="number">100</span>, label=<span class="string">'Troughs'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Annotate</span></span><br><span class="line"><span class="keyword">for</span> t, p <span class="keyword">in</span> zip(trough_locations[<span class="number">1</span>::<span class="number">5</span>], peak_locations[::<span class="number">3</span>]):</span><br><span class="line">    plt.text(df.date[p], df.traffic[p] + <span class="number">15</span>, df.date[p], horizontalalignment=<span class="string">'center'</span>, color=<span class="string">'darkgreen'</span>)</span><br><span class="line">    plt.text(df.date[t], df.traffic[t] - <span class="number">35</span>, df.date[t], horizontalalignment=<span class="string">'center'</span>, color=<span class="string">'darkred'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decoration</span></span><br><span class="line">plt.ylim(<span class="number">50</span>, <span class="number">750</span>)</span><br><span class="line">xtick_location = df.index.tolist()[::<span class="number">6</span>]</span><br><span class="line">xtick_labels = df.date.tolist()[::<span class="number">6</span>]</span><br><span class="line">plt.xticks(ticks=xtick_location, labels=xtick_labels, rotation=<span class="number">90</span>, fontsize=<span class="number">12</span>, alpha=<span class="number">.7</span>)</span><br><span class="line">plt.title(<span class="string">"Peak and Troughs of Air Passengers Traffic (1949 - 1969)"</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.yticks(fontsize=<span class="number">12</span>, alpha=<span class="number">.7</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Lighten borders</span></span><br><span class="line">plt.gca().spines[<span class="string">"top"</span>].set_alpha(<span class="number">.0</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"bottom"</span>].set_alpha(<span class="number">.3</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"right"</span>].set_alpha(<span class="number">.0</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"left"</span>].set_alpha(<span class="number">.3</span>)</span><br><span class="line"></span><br><span class="line">plt.legend(loc=<span class="string">'upper left'</span>)</span><br><span class="line">plt.grid(axis=<span class="string">'y'</span>, alpha=<span class="number">.3</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/41.png" alt="41"><br></fancybox>

<h3 id="【37】自相关-ACF-和部分自相关-PACF-图（Autocorrelation-ACF-and-Partial-Autocorrelation-PACF-Plot）"><a href="#【37】自相关-ACF-和部分自相关-PACF-图（Autocorrelation-ACF-and-Partial-Autocorrelation-PACF-Plot）" class="headerlink" title="【37】自相关 (ACF) 和部分自相关 (PACF) 图（Autocorrelation (ACF) and Partial Autocorrelation (PACF) Plot）"></a><font color="##4876FF">【37】自相关 (ACF) 和部分自相关 (PACF) 图（Autocorrelation (ACF) and Partial Autocorrelation (PACF) Plot）</font></h3><p>自相关图（ACF图）显示了时间序列与其自身滞后的相关性。 每条垂直线（在自相关图上）表示系列与滞后 0 之间的滞后的相关性。图中的蓝色阴影区域是显著性级别。 那些位于蓝线之上的滞后是显著的滞后。</p>
<p>那么如何解释呢？</p>
<p>对于航空乘客来说，我们看到超过 14 个滞后已经越过蓝线，因此意义重大。这意味着，14 年前的航空客运量对今天的交通量产生了影响。 </p>
<p>另一方面，部分自相关图（PACF）显示了任何给定滞后（时间序列）相对于当前序列的自相关，但消除了中间滞后的贡献。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> statsmodels.graphics.tsaplots <span class="keyword">import</span> plot_acf, plot_pacf</span><br><span class="line"></span><br><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">'https://github.com/selva86/datasets/raw/master/AirPassengers.csv'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw Plot</span></span><br><span class="line">fig, (ax1, ax2) = plt.subplots(<span class="number">1</span>, <span class="number">2</span>, figsize=(<span class="number">16</span>, <span class="number">6</span>), dpi=<span class="number">80</span>)</span><br><span class="line">plot_acf(df.traffic.tolist(), ax=ax1, lags=<span class="number">50</span>)</span><br><span class="line">plot_pacf(df.traffic.tolist(), ax=ax2, lags=<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorate</span></span><br><span class="line"><span class="comment"># lighten the borders</span></span><br><span class="line">ax1.spines[<span class="string">"top"</span>].set_alpha(<span class="number">.3</span>); ax2.spines[<span class="string">"top"</span>].set_alpha(<span class="number">.3</span>)</span><br><span class="line">ax1.spines[<span class="string">"bottom"</span>].set_alpha(<span class="number">.3</span>); ax2.spines[<span class="string">"bottom"</span>].set_alpha(<span class="number">.3</span>)</span><br><span class="line">ax1.spines[<span class="string">"right"</span>].set_alpha(<span class="number">.3</span>); ax2.spines[<span class="string">"right"</span>].set_alpha(<span class="number">.3</span>)</span><br><span class="line">ax1.spines[<span class="string">"left"</span>].set_alpha(<span class="number">.3</span>); ax2.spines[<span class="string">"left"</span>].set_alpha(<span class="number">.3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># font size of tick labels</span></span><br><span class="line">ax1.tick_params(axis=<span class="string">'both'</span>, labelsize=<span class="number">12</span>)</span><br><span class="line">ax2.tick_params(axis=<span class="string">'both'</span>, labelsize=<span class="number">12</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/42.png" alt="42"><br></fancybox>

<h3 id="【38】交叉相关图（Cross-Correlation-plot）"><a href="#【38】交叉相关图（Cross-Correlation-plot）" class="headerlink" title="【38】交叉相关图（Cross Correlation plot）"></a><font color="##4876FF">【38】交叉相关图（Cross Correlation plot）</font></h3><p>交叉相关图显示了两个时间序列相互之间的滞后。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> statsmodels.tsa.stattools <span class="keyword">as</span> stattools</span><br><span class="line"></span><br><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">'https://github.com/selva86/datasets/raw/master/mortality.csv'</span>)</span><br><span class="line">x = df[<span class="string">'mdeaths'</span>]</span><br><span class="line">y = df[<span class="string">'fdeaths'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Compute Cross Correlations</span></span><br><span class="line">ccs = stattools.ccf(x, y)[:<span class="number">100</span>]</span><br><span class="line">nlags = len(ccs)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Compute the Significance level</span></span><br><span class="line"><span class="comment"># ref: https://stats.stackexchange.com/questions/3115/cross-correlation-significance-in-r/3128#3128</span></span><br><span class="line">conf_level = <span class="number">2</span> / np.sqrt(nlags)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw Plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">12</span>, <span class="number">7</span>), dpi=<span class="number">80</span>)</span><br><span class="line"></span><br><span class="line">plt.hlines(<span class="number">0</span>, xmin=<span class="number">0</span>, xmax=<span class="number">100</span>, color=<span class="string">'gray'</span>)  <span class="comment"># 0 axis</span></span><br><span class="line">plt.hlines(conf_level, xmin=<span class="number">0</span>, xmax=<span class="number">100</span>, color=<span class="string">'gray'</span>)</span><br><span class="line">plt.hlines(-conf_level, xmin=<span class="number">0</span>, xmax=<span class="number">100</span>, color=<span class="string">'gray'</span>)</span><br><span class="line"></span><br><span class="line">plt.bar(x=np.arange(len(ccs)), height=ccs, width=<span class="number">.3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decoration</span></span><br><span class="line">plt.title(<span class="string">'$Cross\; Correlation\; Plot:\; mdeaths\; vs\; fdeaths$'</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.xlim(<span class="number">0</span>, len(ccs))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/43.png" alt="43"><br></fancybox>

<h3 id="【39】时间序列分解图（Time-Series-Decomposition-Plot）"><a href="#【39】时间序列分解图（Time-Series-Decomposition-Plot）" class="headerlink" title="【39】时间序列分解图（Time Series Decomposition Plot）"></a><font color="##4876FF">【39】时间序列分解图（Time Series Decomposition Plot）</font></h3><p>时间序列分解图将时间序列分解为趋势、季节和残差分量。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> statsmodels.tsa.seasonal <span class="keyword">import</span> seasonal_decompose</span><br><span class="line"><span class="keyword">from</span> dateutil.parser <span class="keyword">import</span> parse</span><br><span class="line"></span><br><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">'https://github.com/selva86/datasets/raw/master/AirPassengers.csv'</span>)</span><br><span class="line">dates = pd.DatetimeIndex([parse(d).strftime(<span class="string">'%Y-%m-01'</span>) <span class="keyword">for</span> d <span class="keyword">in</span> df[<span class="string">'date'</span>]])</span><br><span class="line">df.set_index(dates, inplace=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decompose</span></span><br><span class="line">result = seasonal_decompose(df[<span class="string">'traffic'</span>], model=<span class="string">'multiplicative'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot</span></span><br><span class="line">plt.rcParams.update(&#123;<span class="string">'figure.figsize'</span>: (<span class="number">10</span>, <span class="number">10</span>)&#125;)</span><br><span class="line">result.plot().suptitle(<span class="string">'Time Series Decomposition of Air Passengers'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/44.png" alt="44"><br></fancybox>

<h3 id="【40】多重时间序列（Multiple-Time-Series）"><a href="#【40】多重时间序列（Multiple-Time-Series）" class="headerlink" title="【40】多重时间序列（Multiple Time Series）"></a><font color="##4876FF">【40】多重时间序列（Multiple Time Series）</font></h3><p>您可以在同一图表上绘制多个测量相同值的时间序列，如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">'https://github.com/selva86/datasets/raw/master/mortality.csv'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Define the upper limit, lower limit, interval of Y axis and colors</span></span><br><span class="line">y_LL = <span class="number">100</span></span><br><span class="line">y_UL = int(df.iloc[:, <span class="number">1</span>:].max().max() * <span class="number">1.1</span>)</span><br><span class="line">y_interval = <span class="number">400</span></span><br><span class="line">mycolors = [<span class="string">'tab:red'</span>, <span class="string">'tab:blue'</span>, <span class="string">'tab:green'</span>, <span class="string">'tab:orange'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw Plot and Annotate</span></span><br><span class="line">fig, ax = plt.subplots(<span class="number">1</span>, <span class="number">1</span>, figsize=(<span class="number">16</span>, <span class="number">9</span>), dpi=<span class="number">80</span>)</span><br><span class="line"></span><br><span class="line">columns = df.columns[<span class="number">1</span>:]</span><br><span class="line"><span class="keyword">for</span> i, column <span class="keyword">in</span> enumerate(columns):</span><br><span class="line">    plt.plot(df.date.values, df[column].values, lw=<span class="number">1.5</span>, color=mycolors[i])</span><br><span class="line">    plt.text(df.shape[<span class="number">0</span>] + <span class="number">1</span>, df[column].values[<span class="number">-1</span>], column, fontsize=<span class="number">14</span>, color=mycolors[i])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw Tick lines</span></span><br><span class="line"><span class="keyword">for</span> y <span class="keyword">in</span> range(y_LL, y_UL, y_interval):</span><br><span class="line">    plt.hlines(y, xmin=<span class="number">0</span>, xmax=<span class="number">71</span>, colors=<span class="string">'black'</span>, alpha=<span class="number">0.3</span>, linestyles=<span class="string">"--"</span>, lw=<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line">plt.tick_params(axis=<span class="string">"both"</span>, which=<span class="string">"both"</span>, bottom=<span class="keyword">False</span>, top=<span class="keyword">False</span>,</span><br><span class="line">                labelbottom=<span class="keyword">True</span>, left=<span class="keyword">False</span>, right=<span class="keyword">False</span>, labelleft=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Lighten borders</span></span><br><span class="line">plt.gca().spines[<span class="string">"top"</span>].set_alpha(<span class="number">.3</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"bottom"</span>].set_alpha(<span class="number">.3</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"right"</span>].set_alpha(<span class="number">.3</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"left"</span>].set_alpha(<span class="number">.3</span>)</span><br><span class="line"></span><br><span class="line">plt.title(<span class="string">'Number of Deaths from Lung Diseases in the UK (1974-1979)'</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.yticks(range(y_LL, y_UL, y_interval), [str(y) <span class="keyword">for</span> y <span class="keyword">in</span> range(y_LL, y_UL, y_interval)], fontsize=<span class="number">12</span>)</span><br><span class="line">plt.xticks(range(<span class="number">0</span>, df.shape[<span class="number">0</span>], <span class="number">12</span>), df.date.values[::<span class="number">12</span>], horizontalalignment=<span class="string">'left'</span>, fontsize=<span class="number">12</span>)</span><br><span class="line">plt.ylim(y_LL, y_UL)</span><br><span class="line">plt.xlim(<span class="number">-2</span>, <span class="number">80</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/45.png" alt="45"><br></fancybox>

<h3 id="【41】使用次要的-Y-轴来绘制不同范围的图形（Plotting-with-different-scales-using-secondary-Y-axis）"><a href="#【41】使用次要的-Y-轴来绘制不同范围的图形（Plotting-with-different-scales-using-secondary-Y-axis）" class="headerlink" title="【41】使用次要的 Y 轴来绘制不同范围的图形（Plotting with different scales using secondary Y axis）"></a><font color="##4876FF">【41】使用次要的 Y 轴来绘制不同范围的图形（Plotting with different scales using secondary Y axis）</font></h3><p>如果要显示在同一时间点测量两个不同数量的两个时间序列，则可以在右侧的次要 Y 轴上再绘制第二个系列。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">"https://github.com/selva86/datasets/raw/master/economics.csv"</span>)</span><br><span class="line"></span><br><span class="line">x = df[<span class="string">'date'</span>]</span><br><span class="line">y1 = df[<span class="string">'psavert'</span>]</span><br><span class="line">y2 = df[<span class="string">'unemploy'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot Line1 (Left Y Axis)</span></span><br><span class="line">fig, ax1 = plt.subplots(<span class="number">1</span>, <span class="number">1</span>, figsize=(<span class="number">16</span>, <span class="number">9</span>), dpi=<span class="number">80</span>)</span><br><span class="line">ax1.plot(x, y1, color=<span class="string">'tab:red'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot Line2 (Right Y Axis)</span></span><br><span class="line">ax2 = ax1.twinx()  <span class="comment"># instantiate a second axes that shares the same x-axis</span></span><br><span class="line">ax2.plot(x, y2, color=<span class="string">'tab:blue'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line"><span class="comment"># ax1 (left Y axis)</span></span><br><span class="line">ax1.set_xlabel(<span class="string">'Year'</span>, fontsize=<span class="number">20</span>)</span><br><span class="line">ax1.tick_params(axis=<span class="string">'x'</span>, rotation=<span class="number">0</span>, labelsize=<span class="number">12</span>)</span><br><span class="line">ax1.set_ylabel(<span class="string">'Personal Savings Rate'</span>, color=<span class="string">'tab:red'</span>, fontsize=<span class="number">20</span>)</span><br><span class="line">ax1.tick_params(axis=<span class="string">'y'</span>, rotation=<span class="number">0</span>, labelcolor=<span class="string">'tab:red'</span>)</span><br><span class="line">ax1.grid(alpha=<span class="number">.4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ax2 (right Y axis)</span></span><br><span class="line">ax2.set_ylabel(<span class="string">"# Unemployed (1000's)"</span>, color=<span class="string">'tab:blue'</span>, fontsize=<span class="number">20</span>)</span><br><span class="line">ax2.tick_params(axis=<span class="string">'y'</span>, labelcolor=<span class="string">'tab:blue'</span>)</span><br><span class="line">ax2.set_xticks(np.arange(<span class="number">0</span>, len(x), <span class="number">60</span>))</span><br><span class="line">ax2.set_xticklabels(x[::<span class="number">60</span>], rotation=<span class="number">90</span>, fontdict=&#123;<span class="string">'fontsize'</span>: <span class="number">10</span>&#125;)</span><br><span class="line">ax2.set_title(<span class="string">"Personal Savings Rate vs Unemployed: Plotting in Secondary Y Axis"</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">fig.tight_layout()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/46.png" alt="46"><br></fancybox>

<h3 id="【42】带误差带的时间序列（Time-Series-with-Error-Bands）"><a href="#【42】带误差带的时间序列（Time-Series-with-Error-Bands）" class="headerlink" title="【42】带误差带的时间序列（Time Series with Error Bands）"></a><font color="##4876FF">【42】带误差带的时间序列（Time Series with Error Bands）</font></h3><p>如果您有一个时间序列数据集，其中每个时间点（日期/时间戳）有多个观测值，则可以构造具有误差带的时间序列。下面您可以看到一些基于一天中不同时间的订单的示例。还有一个关于45天内到达的订单数量的例子。</p>
<p>在这种方法中，订单数量的平均值用白线表示。并计算95%的置信区间，并围绕平均值绘制。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> scipy.stats <span class="keyword">import</span> sem</span><br><span class="line"></span><br><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">"https://raw.githubusercontent.com/selva86/datasets/master/user_orders_hourofday.csv"</span>)</span><br><span class="line">df_mean = df.groupby(<span class="string">'order_hour_of_day'</span>).quantity.mean()</span><br><span class="line">df_se = df.groupby(<span class="string">'order_hour_of_day'</span>).quantity.apply(sem).mul(<span class="number">1.96</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">16</span>, <span class="number">10</span>), dpi=<span class="number">80</span>)</span><br><span class="line">plt.ylabel(<span class="string">"# Orders"</span>, fontsize=<span class="number">16</span>)</span><br><span class="line">x = df_mean.index</span><br><span class="line">plt.plot(x, df_mean, color=<span class="string">"white"</span>, lw=<span class="number">2</span>)</span><br><span class="line">plt.fill_between(x, df_mean - df_se, df_mean + df_se, color=<span class="string">"#3F5D7D"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line"><span class="comment"># Lighten borders</span></span><br><span class="line">plt.gca().spines[<span class="string">"top"</span>].set_alpha(<span class="number">0</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"bottom"</span>].set_alpha(<span class="number">1</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"right"</span>].set_alpha(<span class="number">0</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"left"</span>].set_alpha(<span class="number">1</span>)</span><br><span class="line">plt.xticks(x[::<span class="number">2</span>], [str(d) <span class="keyword">for</span> d <span class="keyword">in</span> x[::<span class="number">2</span>]], fontsize=<span class="number">12</span>)</span><br><span class="line">plt.title(<span class="string">"User Orders by Hour of Day (95% confidence)"</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.xlabel(<span class="string">"Hour of Day"</span>)</span><br><span class="line"></span><br><span class="line">s, e = plt.gca().get_xlim()</span><br><span class="line">plt.xlim(s, e)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw Horizontal Tick lines</span></span><br><span class="line"><span class="keyword">for</span> y <span class="keyword">in</span> range(<span class="number">8</span>, <span class="number">20</span>, <span class="number">2</span>):</span><br><span class="line">    plt.hlines(y, xmin=s, xmax=e, colors=<span class="string">'black'</span>, alpha=<span class="number">0.5</span>, linestyles=<span class="string">"--"</span>, lw=<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/47.png" alt="47"><br></fancybox>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"Data Source: https://www.kaggle.com/olistbr/brazilian-ecommerce#olist_orders_dataset.csv"</span></span><br><span class="line"><span class="keyword">from</span> dateutil.parser <span class="keyword">import</span> parse</span><br><span class="line"><span class="keyword">from</span> scipy.stats <span class="keyword">import</span> sem</span><br><span class="line"></span><br><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df_raw = pd.read_csv(<span class="string">'https://raw.githubusercontent.com/selva86/datasets/master/orders_45d.csv'</span>,</span><br><span class="line">                     parse_dates=[<span class="string">'purchase_time'</span>, <span class="string">'purchase_date'</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Prepare Data: Daily Mean and SE Bands</span></span><br><span class="line">df_mean = df_raw.groupby(<span class="string">'purchase_date'</span>).quantity.mean()</span><br><span class="line">df_se = df_raw.groupby(<span class="string">'purchase_date'</span>).quantity.apply(sem).mul(<span class="number">1.96</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">16</span>, <span class="number">10</span>), dpi=<span class="number">80</span>)</span><br><span class="line">plt.ylabel(<span class="string">"# Daily Orders"</span>, fontsize=<span class="number">16</span>)</span><br><span class="line">x = [d.date().strftime(<span class="string">'%Y-%m-%d'</span>) <span class="keyword">for</span> d <span class="keyword">in</span> df_mean.index]</span><br><span class="line">plt.plot(x, df_mean, color=<span class="string">"white"</span>, lw=<span class="number">2</span>)</span><br><span class="line">plt.fill_between(x, df_mean - df_se, df_mean + df_se, color=<span class="string">"#3F5D7D"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line"><span class="comment"># Lighten borders</span></span><br><span class="line">plt.gca().spines[<span class="string">"top"</span>].set_alpha(<span class="number">0</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"bottom"</span>].set_alpha(<span class="number">1</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"right"</span>].set_alpha(<span class="number">0</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"left"</span>].set_alpha(<span class="number">1</span>)</span><br><span class="line">plt.xticks(x[::<span class="number">6</span>], [str(d) <span class="keyword">for</span> d <span class="keyword">in</span> x[::<span class="number">6</span>]], fontsize=<span class="number">12</span>)</span><br><span class="line">plt.title(<span class="string">"Daily Order Quantity of Brazilian Retail with Error Bands (95% confidence)"</span>, fontsize=<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Axis limits</span></span><br><span class="line">s, e = plt.gca().get_xlim()</span><br><span class="line">plt.xlim(s, e - <span class="number">2</span>)</span><br><span class="line">plt.ylim(<span class="number">4</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw Horizontal Tick lines</span></span><br><span class="line"><span class="keyword">for</span> y <span class="keyword">in</span> range(<span class="number">5</span>, <span class="number">10</span>, <span class="number">1</span>):</span><br><span class="line">    plt.hlines(y, xmin=s, xmax=e, colors=<span class="string">'black'</span>, alpha=<span class="number">0.5</span>, linestyles=<span class="string">"--"</span>, lw=<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/48.png" alt="48"><br></fancybox>

<h3 id="【43】堆积面积图（Stacked-Area-Chart）"><a href="#【43】堆积面积图（Stacked-Area-Chart）" class="headerlink" title="【43】堆积面积图（Stacked Area Chart）"></a><font color="##4876FF">【43】堆积面积图（Stacked Area Chart）</font></h3><p>堆积面积图提供了多个时间序列的贡献程度的可视化表示，以便相互比较。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">'https://raw.githubusercontent.com/selva86/datasets/master/nightvisitors.csv'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decide Colors</span></span><br><span class="line">mycolors = [<span class="string">'tab:red'</span>, <span class="string">'tab:blue'</span>, <span class="string">'tab:green'</span>, <span class="string">'tab:orange'</span>, <span class="string">'tab:brown'</span>, <span class="string">'tab:grey'</span>, <span class="string">'tab:pink'</span>, <span class="string">'tab:olive'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw Plot and Annotate</span></span><br><span class="line">fig, ax = plt.subplots(<span class="number">1</span>, <span class="number">1</span>, figsize=(<span class="number">16</span>, <span class="number">9</span>), dpi=<span class="number">80</span>)</span><br><span class="line">columns = df.columns[<span class="number">1</span>:]</span><br><span class="line">labs = columns.values.tolist()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Prepare data</span></span><br><span class="line">x = df[<span class="string">'yearmon'</span>].values.tolist()</span><br><span class="line">y0 = df[columns[<span class="number">0</span>]].values.tolist()</span><br><span class="line">y1 = df[columns[<span class="number">1</span>]].values.tolist()</span><br><span class="line">y2 = df[columns[<span class="number">2</span>]].values.tolist()</span><br><span class="line">y3 = df[columns[<span class="number">3</span>]].values.tolist()</span><br><span class="line">y4 = df[columns[<span class="number">4</span>]].values.tolist()</span><br><span class="line">y5 = df[columns[<span class="number">5</span>]].values.tolist()</span><br><span class="line">y6 = df[columns[<span class="number">6</span>]].values.tolist()</span><br><span class="line">y7 = df[columns[<span class="number">7</span>]].values.tolist()</span><br><span class="line">y = np.vstack([y0, y2, y4, y6, y7, y5, y1, y3])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot for each column</span></span><br><span class="line">labs = columns.values.tolist()</span><br><span class="line">ax = plt.gca()</span><br><span class="line">ax.stackplot(x, y, labels=labs, colors=mycolors, alpha=<span class="number">0.8</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line">ax.set_title(<span class="string">'Night Visitors in Australian Regions'</span>, fontsize=<span class="number">18</span>)</span><br><span class="line">ax.set(ylim=[<span class="number">0</span>, <span class="number">100000</span>])</span><br><span class="line">ax.legend(fontsize=<span class="number">10</span>, ncol=<span class="number">4</span>)</span><br><span class="line">plt.xticks(x[::<span class="number">5</span>], fontsize=<span class="number">10</span>, horizontalalignment=<span class="string">'center'</span>)</span><br><span class="line">plt.yticks(np.arange(<span class="number">10000</span>, <span class="number">100000</span>, <span class="number">20000</span>), fontsize=<span class="number">10</span>)</span><br><span class="line">plt.xlim(x[<span class="number">0</span>], x[<span class="number">-1</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Lighten borders</span></span><br><span class="line">plt.gca().spines[<span class="string">"top"</span>].set_alpha(<span class="number">0</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"bottom"</span>].set_alpha(<span class="number">.3</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"right"</span>].set_alpha(<span class="number">0</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"left"</span>].set_alpha(<span class="number">.3</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/49.png" alt="49"><br></fancybox>

<h3 id="【44】未堆积面积图（Area-Chart-UnStacked）"><a href="#【44】未堆积面积图（Area-Chart-UnStacked）" class="headerlink" title="【44】未堆积面积图（Area Chart UnStacked）"></a><font color="##4876FF">【44】未堆积面积图（Area Chart UnStacked）</font></h3><p>未堆积的面积图用于可视化两个或多个序列彼此之间的进度（起伏）。在下面的图表中，你可以清楚地看到，随着失业持续时间的中位数增加，个人储蓄率是如何下降的。未堆积面积图很好地展示了这一现象。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">"https://github.com/selva86/datasets/raw/master/economics.csv"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Prepare Data</span></span><br><span class="line">x = df[<span class="string">'date'</span>].values.tolist()</span><br><span class="line">y1 = df[<span class="string">'psavert'</span>].values.tolist()</span><br><span class="line">y2 = df[<span class="string">'uempmed'</span>].values.tolist()</span><br><span class="line">mycolors = [<span class="string">'tab:red'</span>, <span class="string">'tab:blue'</span>, <span class="string">'tab:green'</span>, <span class="string">'tab:orange'</span>, <span class="string">'tab:brown'</span>, <span class="string">'tab:grey'</span>, <span class="string">'tab:pink'</span>, <span class="string">'tab:olive'</span>]</span><br><span class="line">columns = [<span class="string">'psavert'</span>, <span class="string">'uempmed'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw Plot</span></span><br><span class="line">fig, ax = plt.subplots(<span class="number">1</span>, <span class="number">1</span>, figsize=(<span class="number">16</span>, <span class="number">9</span>), dpi=<span class="number">80</span>)</span><br><span class="line">ax.fill_between(x, y1=y1, y2=<span class="number">0</span>, label=columns[<span class="number">1</span>], alpha=<span class="number">0.5</span>, color=mycolors[<span class="number">1</span>], linewidth=<span class="number">2</span>)</span><br><span class="line">ax.fill_between(x, y1=y2, y2=<span class="number">0</span>, label=columns[<span class="number">0</span>], alpha=<span class="number">0.5</span>, color=mycolors[<span class="number">0</span>], linewidth=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line">ax.set_title(<span class="string">'Personal Savings Rate vs Median Duration of Unemployment'</span>, fontsize=<span class="number">18</span>)</span><br><span class="line">ax.set(ylim=[<span class="number">0</span>, <span class="number">30</span>])</span><br><span class="line">ax.legend(loc=<span class="string">'best'</span>, fontsize=<span class="number">12</span>)</span><br><span class="line">plt.xticks(x[::<span class="number">50</span>], fontsize=<span class="number">10</span>, horizontalalignment=<span class="string">'center'</span>)</span><br><span class="line">plt.yticks(np.arange(<span class="number">2.5</span>, <span class="number">30.0</span>, <span class="number">2.5</span>), fontsize=<span class="number">10</span>)</span><br><span class="line">plt.xlim(<span class="number">-10</span>, x[<span class="number">-1</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw Tick lines</span></span><br><span class="line"><span class="keyword">for</span> y <span class="keyword">in</span> np.arange(<span class="number">2.5</span>, <span class="number">30.0</span>, <span class="number">2.5</span>):</span><br><span class="line">    plt.hlines(y, xmin=<span class="number">0</span>, xmax=len(x), colors=<span class="string">'black'</span>, alpha=<span class="number">0.3</span>, linestyles=<span class="string">"--"</span>, lw=<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Lighten borders</span></span><br><span class="line">plt.gca().spines[<span class="string">"top"</span>].set_alpha(<span class="number">0</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"bottom"</span>].set_alpha(<span class="number">.3</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"right"</span>].set_alpha(<span class="number">0</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"left"</span>].set_alpha(<span class="number">.3</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/50.png" alt="50"><br></fancybox>

<h3 id="【45】日历热力图（Calendar-Heat-Map）"><a href="#【45】日历热力图（Calendar-Heat-Map）" class="headerlink" title="【45】日历热力图（Calendar Heat Map）"></a><font color="##4876FF">【45】日历热力图（Calendar Heat Map）</font></h3><p>与时间序列相比，日历地图是另一种基于时间的数据可视化的不太受欢迎的方法。虽然在视觉上很吸引人，但数值并不十分明显。然而，它能很好地描绘极端值和假日效果。</p>
<p>【译者 TRHX 注：在使用该方法时要先安装 calmap 库】</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib <span class="keyword">as</span> mpl</span><br><span class="line"><span class="keyword">import</span> calmap</span><br><span class="line"></span><br><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">"https://raw.githubusercontent.com/selva86/datasets/master/yahoo.csv"</span>, parse_dates=[<span class="string">'date'</span>])</span><br><span class="line">df.set_index(<span class="string">'date'</span>, inplace=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">16</span>, <span class="number">10</span>), dpi=<span class="number">80</span>)</span><br><span class="line">calmap.calendarplot(df[<span class="string">'2014'</span>][<span class="string">'VIX.Close'</span>], fig_kws=&#123;<span class="string">'figsize'</span>: (<span class="number">16</span>, <span class="number">10</span>)&#125;,</span><br><span class="line">                    yearlabel_kws=&#123;<span class="string">'color'</span>: <span class="string">'black'</span>, <span class="string">'fontsize'</span>: <span class="number">14</span>&#125;, subplot_kws=&#123;<span class="string">'title'</span>: <span class="string">'Yahoo Stock Prices'</span>&#125;)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/51.png" alt="51"><br></fancybox>

<h3 id="【46】季节图（Seasonal-Plot）"><a href="#【46】季节图（Seasonal-Plot）" class="headerlink" title="【46】季节图（Seasonal Plot）"></a><font color="##4876FF">【46】季节图（Seasonal Plot）</font></h3><p>季节图可用于比较上一季度同一天（年/月/周等）时间序列的表现。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> dateutil.parser <span class="keyword">import</span> parse</span><br><span class="line"></span><br><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">'https://github.com/selva86/datasets/raw/master/AirPassengers.csv'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Prepare data</span></span><br><span class="line">df[<span class="string">'year'</span>] = [parse(d).year <span class="keyword">for</span> d <span class="keyword">in</span> df.date]</span><br><span class="line">df[<span class="string">'month'</span>] = [parse(d).strftime(<span class="string">'%b'</span>) <span class="keyword">for</span> d <span class="keyword">in</span> df.date]</span><br><span class="line">years = df[<span class="string">'year'</span>].unique()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 译者 TRHX 添加了该行代码</span></span><br><span class="line">df.rename(columns=&#123;<span class="string">'value'</span>: <span class="string">'traffic'</span>&#125;, inplace=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw Plot</span></span><br><span class="line">mycolors = [<span class="string">'tab:red'</span>, <span class="string">'tab:blue'</span>, <span class="string">'tab:green'</span>, <span class="string">'tab:orange'</span>, <span class="string">'tab:brown'</span>, <span class="string">'tab:grey'</span>, <span class="string">'tab:pink'</span>, <span class="string">'tab:olive'</span>,</span><br><span class="line">            <span class="string">'deeppink'</span>, <span class="string">'steelblue'</span>, <span class="string">'firebrick'</span>, <span class="string">'mediumseagreen'</span>]</span><br><span class="line">plt.figure(figsize=(<span class="number">16</span>, <span class="number">10</span>), dpi=<span class="number">80</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i, y <span class="keyword">in</span> enumerate(years):</span><br><span class="line">    plt.plot(<span class="string">'month'</span>, <span class="string">'traffic'</span>, data=df.loc[df.year == y, :], color=mycolors[i], label=y)</span><br><span class="line">    plt.text(df.loc[df.year == y, :].shape[<span class="number">0</span>] - <span class="number">.9</span>, df.loc[df.year == y, <span class="string">'traffic'</span>][<span class="number">-1</span>:].values[<span class="number">0</span>], y, fontsize=<span class="number">12</span>,</span><br><span class="line">             color=mycolors[i])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decoration</span></span><br><span class="line">plt.ylim(<span class="number">50</span>, <span class="number">750</span>)</span><br><span class="line">plt.xlim(<span class="number">-0.3</span>, <span class="number">11</span>)</span><br><span class="line">plt.ylabel(<span class="string">'$Air Traffic$'</span>)</span><br><span class="line">plt.yticks(fontsize=<span class="number">12</span>, alpha=<span class="number">.7</span>)</span><br><span class="line">plt.title(<span class="string">"Monthly Seasonal Plot: Air Passengers Traffic (1949 - 1969)"</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.grid(axis=<span class="string">'y'</span>, alpha=<span class="number">.3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Remove borders</span></span><br><span class="line">plt.gca().spines[<span class="string">"top"</span>].set_alpha(<span class="number">0.0</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"bottom"</span>].set_alpha(<span class="number">0.5</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"right"</span>].set_alpha(<span class="number">0.0</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"left"</span>].set_alpha(<span class="number">0.5</span>)</span><br><span class="line"><span class="comment"># plt.legend(loc='upper right', ncol=2, fontsize=12)</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/52.png" alt="52"><br></fancybox>

<h2 id="【9x00】分组（-Groups）"><a href="#【9x00】分组（-Groups）" class="headerlink" title="【9x00】分组（ Groups）"></a><font color="#FF0000">【9x00】分组（ Groups）</font></h2><h3 id="【47】树状图（Dendrogram）"><a href="#【47】树状图（Dendrogram）" class="headerlink" title="【47】树状图（Dendrogram）"></a><font color="##4876FF">【47】树状图（Dendrogram）</font></h3><p>树状图根据给定的距离度量将相似的点组合在一起，并根据点的相似性将它们组织成树状链接。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scipy.cluster.hierarchy <span class="keyword">as</span> shc</span><br><span class="line"></span><br><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">'https://raw.githubusercontent.com/selva86/datasets/master/USArrests.csv'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">16</span>, <span class="number">10</span>), dpi=<span class="number">80</span>)</span><br><span class="line">plt.title(<span class="string">"USArrests Dendograms"</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">dend = shc.dendrogram(shc.linkage(df[[<span class="string">'Murder'</span>, <span class="string">'Assault'</span>, <span class="string">'UrbanPop'</span>, <span class="string">'Rape'</span>]], method=<span class="string">'ward'</span>), labels=df.State.values,</span><br><span class="line">                      color_threshold=<span class="number">100</span>)</span><br><span class="line">plt.xticks(fontsize=<span class="number">12</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/53.png" alt="53"><br></fancybox>

<h3 id="【48】聚类图（Cluster-Plot）"><a href="#【48】聚类图（Cluster-Plot）" class="headerlink" title="【48】聚类图（Cluster Plot）"></a><font color="##4876FF">【48】聚类图（Cluster Plot）</font></h3><p>聚类图可以用来划分属于同一个聚类的点。下面是一个基于 USArrests 数据集将美国各州分成 5 组的代表性示例。这个聚类图使用 ‘murder’ 和 ‘assault’ 作为 X 轴和 Y 轴。或者，您可以将第一个主元件用作 X 轴和 Y 轴。</p>
<p>【译者 TRHX 注：在使用该方法时要先安装 sklearn 库】</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.cluster <span class="keyword">import</span> AgglomerativeClustering</span><br><span class="line"><span class="keyword">from</span> scipy.spatial <span class="keyword">import</span> ConvexHull</span><br><span class="line"></span><br><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df = pd.read_csv(<span class="string">'https://raw.githubusercontent.com/selva86/datasets/master/USArrests.csv'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Agglomerative Clustering</span></span><br><span class="line">cluster = AgglomerativeClustering(n_clusters=<span class="number">5</span>, affinity=<span class="string">'euclidean'</span>, linkage=<span class="string">'ward'</span>)</span><br><span class="line">cluster.fit_predict(df[[<span class="string">'Murder'</span>, <span class="string">'Assault'</span>, <span class="string">'UrbanPop'</span>, <span class="string">'Rape'</span>]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">14</span>, <span class="number">10</span>), dpi=<span class="number">80</span>)</span><br><span class="line">plt.scatter(df.iloc[:, <span class="number">0</span>], df.iloc[:, <span class="number">1</span>], c=cluster.labels_, cmap=<span class="string">'tab10'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Encircle</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">encircle</span><span class="params">(x, y, ax=None, **kw)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> ax: ax = plt.gca()</span><br><span class="line">    p = np.c_[x, y]</span><br><span class="line">    hull = ConvexHull(p)</span><br><span class="line">    poly = plt.Polygon(p[hull.vertices,:], **kw)</span><br><span class="line">    ax.add_patch(poly)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw polygon surrounding vertices</span></span><br><span class="line">encircle(df.loc[cluster.labels_ == <span class="number">0</span>, <span class="string">'Murder'</span>], df.loc[cluster.labels_ == <span class="number">0</span>, <span class="string">'Assault'</span>], ec=<span class="string">"k"</span>, fc=<span class="string">"gold"</span>, alpha=<span class="number">0.2</span>, linewidth=<span class="number">0</span>)</span><br><span class="line">encircle(df.loc[cluster.labels_ == <span class="number">1</span>, <span class="string">'Murder'</span>], df.loc[cluster.labels_ == <span class="number">1</span>, <span class="string">'Assault'</span>], ec=<span class="string">"k"</span>, fc=<span class="string">"tab:blue"</span>, alpha=<span class="number">0.2</span>, linewidth=<span class="number">0</span>)</span><br><span class="line">encircle(df.loc[cluster.labels_ == <span class="number">2</span>, <span class="string">'Murder'</span>], df.loc[cluster.labels_ == <span class="number">2</span>, <span class="string">'Assault'</span>], ec=<span class="string">"k"</span>, fc=<span class="string">"tab:red"</span>, alpha=<span class="number">0.2</span>, linewidth=<span class="number">0</span>)</span><br><span class="line">encircle(df.loc[cluster.labels_ == <span class="number">3</span>, <span class="string">'Murder'</span>], df.loc[cluster.labels_ == <span class="number">3</span>, <span class="string">'Assault'</span>], ec=<span class="string">"k"</span>, fc=<span class="string">"tab:green"</span>, alpha=<span class="number">0.2</span>, linewidth=<span class="number">0</span>)</span><br><span class="line">encircle(df.loc[cluster.labels_ == <span class="number">4</span>, <span class="string">'Murder'</span>], df.loc[cluster.labels_ == <span class="number">4</span>, <span class="string">'Assault'</span>], ec=<span class="string">"k"</span>, fc=<span class="string">"tab:orange"</span>, alpha=<span class="number">0.2</span>, linewidth=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorations</span></span><br><span class="line">plt.xlabel(<span class="string">'Murder'</span>); plt.xticks(fontsize=<span class="number">12</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Assault'</span>); plt.yticks(fontsize=<span class="number">12</span>)</span><br><span class="line">plt.title(<span class="string">'Agglomerative Clustering of USArrests (5 Groups)'</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/54.png" alt="54"><br></fancybox>

<h3 id="【49】安德鲁斯曲线（Andrews-Curve）"><a href="#【49】安德鲁斯曲线（Andrews-Curve）" class="headerlink" title="【49】安德鲁斯曲线（Andrews Curve）"></a><font color="##4876FF">【49】安德鲁斯曲线（Andrews Curve）</font></h3><p>安德鲁斯曲线有助于可视化是否存在基于给定分组的数值特征的固有分组。如果特征（数据集中的列）不能帮助区分组（cyl），则行将不会像下图所示被很好地分隔开。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pandas.plotting <span class="keyword">import</span> andrews_curves</span><br><span class="line"></span><br><span class="line"><span class="comment"># Import</span></span><br><span class="line">df = pd.read_csv(<span class="string">"https://github.com/selva86/datasets/raw/master/mtcars.csv"</span>)</span><br><span class="line">df.drop([<span class="string">'cars'</span>, <span class="string">'carname'</span>], axis=<span class="number">1</span>, inplace=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">12</span>, <span class="number">9</span>), dpi=<span class="number">80</span>)</span><br><span class="line">andrews_curves(df, <span class="string">'cyl'</span>, colormap=<span class="string">'Set1'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Lighten borders</span></span><br><span class="line">plt.gca().spines[<span class="string">"top"</span>].set_alpha(<span class="number">0</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"bottom"</span>].set_alpha(<span class="number">.3</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"right"</span>].set_alpha(<span class="number">0</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"left"</span>].set_alpha(<span class="number">.3</span>)</span><br><span class="line"></span><br><span class="line">plt.title(<span class="string">'Andrews Curves of mtcars'</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.xlim(<span class="number">-3</span>, <span class="number">3</span>)</span><br><span class="line">plt.grid(alpha=<span class="number">0.3</span>)</span><br><span class="line">plt.xticks(fontsize=<span class="number">12</span>)</span><br><span class="line">plt.yticks(fontsize=<span class="number">12</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/55.png" alt="55"><br></fancybox>

<h3 id="【50】平行坐标图（Parallel-Coordinates）"><a href="#【50】平行坐标图（Parallel-Coordinates）" class="headerlink" title="【50】平行坐标图（Parallel Coordinates）"></a><font color="##4876FF">【50】平行坐标图（Parallel Coordinates）</font></h3><p>平行坐标有助于可视化功能是否有助于有效地隔离组。如果一个分离受到影响，则该特征可能在预测该组时非常有用。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pandas.plotting <span class="keyword">import</span> parallel_coordinates</span><br><span class="line"></span><br><span class="line"><span class="comment"># Import Data</span></span><br><span class="line">df_final = pd.read_csv(<span class="string">"https://raw.githubusercontent.com/selva86/datasets/master/diamonds_filter.csv"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot</span></span><br><span class="line">plt.figure(figsize=(<span class="number">12</span>, <span class="number">9</span>), dpi=<span class="number">80</span>)</span><br><span class="line">parallel_coordinates(df_final, <span class="string">'cut'</span>, colormap=<span class="string">'Dark2'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Lighten borders</span></span><br><span class="line">plt.gca().spines[<span class="string">"top"</span>].set_alpha(<span class="number">0</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"bottom"</span>].set_alpha(<span class="number">.3</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"right"</span>].set_alpha(<span class="number">0</span>)</span><br><span class="line">plt.gca().spines[<span class="string">"left"</span>].set_alpha(<span class="number">.3</span>)</span><br><span class="line"></span><br><span class="line">plt.title(<span class="string">'Parallel Coordinated of Diamonds'</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.grid(alpha=<span class="number">0.3</span>)</span><br><span class="line">plt.xticks(fontsize=<span class="number">12</span>)</span><br><span class="line">plt.yticks(fontsize=<span class="number">12</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<fancybox><br><img src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A78/56.png" alt="56"><br></fancybox>

<hr>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">这里是一段防爬虫文本，请读者忽略。</span></span><br><span class="line"><span class="string">本译文首发于</span> <span class="string">CSDN，作者</span> <span class="string">Selva</span> <span class="string">Prabhakaran，译者</span> <span class="string">TRHX。</span></span><br><span class="line"><span class="string">本文链接：https://itrhx.blog.csdn.net/article/details/106558131</span></span><br><span class="line"><span class="string">原文链接：https://www.machinelearningplus.com/plots/top-50-matplotlib-visualizations-the-master-plots-python/</span></span><br></pre></td></tr></table></figure>
<hr>

        </div>
        <hr />
        
          <div id="reward">
  
  <div>您的喜欢是作者写作最大的动力！❤️</div>
  
  <div class="reward">
    <a href="https://github.com/Kaiyuan/donate-page" target="_blank" class=" tr3" title="Github"><span
        id="github"></span></a>
    <ul id="RewardBox" class="list pos-f tr3">
      
      <li id="PayPal" title="PayPal打赏"><a href="https://paypal.me/trhx" target="_blank">PayPal</a></li>
      
      
      <li id="AliPayOR" title="支付宝打赏">AliPay</li>
      
      
      <li id="WeChatPayOR" title="微信打赏">WeChatPay</li>
      
      
      <li id="QQPayOR" title="QQ打赏">QQPay</li>
      
    </ul>
    <div id="RewardText" class="tr3">Donate</div>
    <div id="QRBox" class="pos-f left-100">
      <div id="MainBox"></div>
    </div>
  </div>
</div>
<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.0.3.min.js"></script>
<script>
  jQuery(document).ready(function () {
    var QRBox = $('#QRBox');
    var MainBox = $('#MainBox');
    var AliPayOR = 'https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.1.1/images/reward/AliPayQR.png';
    var WeChatPayOR = 'https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.1.1/images/reward/WeChatQR.png';
    var QQPayOR = 'https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.1.1/images/reward/QQPayQR.png';

    function showQR(QR) {
      if (QR) {
        MainBox.css('background-image', 'url(' + QR + ')');
      }
      $('#RewardText,#RewardBox,#github').addClass('blur');
      QRBox.fadeIn(300, function (argument) {
        MainBox.addClass('showQR');
      });
    }

    $('#RewardBox>li').click(function (event) {
      var thisID = $(this).attr('id');
      if (thisID === 'AliPayOR') {
        showQR(AliPayOR);
      } else if (thisID === 'WeChatPayOR') {
        showQR(WeChatPayOR);
      } else if (thisID === 'QQPayOR') {
        showQR(QQPayOR);
      }
    });

    MainBox.click(function (event) {
      MainBox.removeClass('showQR').addClass('hideQR');
      setTimeout(function (a) {
        QRBox.fadeOut(300, function (argument) {
          MainBox.removeClass('hideQR');
        });
        $('#RewardText,#RewardBox,#github').removeClass('blur');
      }, 600);

    });
  });
</script>

        
        
          


  <section class='meta' id="footer-meta">
    <hr>
    <div class='new-meta-box'>
      
        
          <div class="new-meta-item date" itemprop="dateUpdated" datetime="2020-08-06T11:30:09+08:00">
  <a class='notlink'>
    <i class="fas fa-clock" aria-hidden="true"></i>
    <p>最后更新于 2020年8月6日</p>
  </a>
</div>

        
      
        
          
  
  <div class="new-meta-item meta-tags"><a class="tag" href="/tags/Matplotlib/" rel="nofollow"><i class="fas fa-tags" aria-hidden="true"></i>&nbsp;<p>Matplotlib</p></a></div>


        
      
        
          
  <div class="new-meta-item share -mob-share-list">
  <div class="-mob-share-list share-body">
    
      
        <a class="-mob-share-qq" title="QQ好友" rel="external nofollow noopener noreferrer"
          
          href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.itrhx.com/2020/06/09/A78-Matplotlib-11/&title=Python 数据分析三剑客之 Matplotlib（十一）：最常用最有价值的 50 个图表【译文】 | TRHX'S BLOG&pics=https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.0.4/images/trhx.png&summary="
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/qq.png">
          
        </a>
      
    
      
        <a class="-mob-share-qzone" title="QQ空间" rel="external nofollow noopener noreferrer"
          
          href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://www.itrhx.com/2020/06/09/A78-Matplotlib-11/&title=Python 数据分析三剑客之 Matplotlib（十一）：最常用最有价值的 50 个图表【译文】 | TRHX'S BLOG&pics=https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.0.4/images/trhx.png&summary="
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/qzone.png">
          
        </a>
      
    
      
        <a class='qrcode' rel="external nofollow noopener noreferrer" href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACMUlEQVR42u3awYrDMAxF0fz/T2dgVlNKnfskdyDK9Sq0jeOTgpAsHwce5+/49Pnfb8+3Qe5af75tyJAh47aMczneGetFk3kIkq9NhgwZz2F0puNIPj9fmwwZMmR8+s06mPIwnT5XhgwZMkhA5A/jhW46swwZMp7J4MXnOgTzjbNa0buhFpchQ8YNGWlj4D+vv9jfkCFDxk0YZzjS2dJ0s7gqGTJkjGaQJI+Uo+m3aUGLwrEMGTKGMkhwJEgeNPldwS9lyJDxGEYtdNYOWPDnFlsCMmTIGMToJGe19C4tYoOWgwwZMh7ASOvBWlOTp4DBMQsZMmSMZuwqYvnhsFqJe3EtQ4aM0Yxd5WVtcy0NtahRKkOGjHEMkuTxdG1XII6TSxkyZIxmdCYlW2npdr8MGTJk8ICbbtMfy8HvTbfwWNIrQ4aMCYyUlNbHvLWZpokvAVeGDBlDGWR0WpV8Zl5CB0uXIUPGIEZ6hCs9+EUC97kcwfuWIUPGUAZ/ZA3QYccNURkyZIxj9A9VdMBpgL74B2TIkDGakaZrnaBcazZcvAIZMmSMZtS2vfimGG8S9KtUGTJkTGWc4eB3pZV0+iJermXIkDGa0QlzaarXXygvemXIkDGPkW6EbdsmCw9hXMwsQ4aMBzBqm2hkEWl5zA+FbOvBypAhYxCjkxR2DliglyhDhgwZYHFpO4EHXLSRJ0OGjAcwOs2A9EhZ2jZAhbEMGTJGM/oFZCe53NVskCFDxlDGDwg2x2VvtSYpAAAAAElFTkSuQmCC'>
        
          <img src="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/wechat.png">
        
        </a>
      
    
      
        <a class="-mob-share-weibo" title="微博" rel="external nofollow noopener noreferrer"
          
          href="http://service.weibo.com/share/share.php?url=https://www.itrhx.com/2020/06/09/A78-Matplotlib-11/&title=Python 数据分析三剑客之 Matplotlib（十一）：最常用最有价值的 50 个图表【译文】 | TRHX'S BLOG&pics=https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.0.4/images/trhx.png&summary="
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/weibo.png">
          
        </a>
      
    
      
        <a class='qrcode' rel="external nofollow noopener noreferrer" href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACMUlEQVR42u3awYrDMAxF0fz/T2dgVlNKnfskdyDK9Sq0jeOTgpAsHwce5+/49Pnfb8+3Qe5af75tyJAh47aMczneGetFk3kIkq9NhgwZz2F0puNIPj9fmwwZMmR8+s06mPIwnT5XhgwZMkhA5A/jhW46swwZMp7J4MXnOgTzjbNa0buhFpchQ8YNGWlj4D+vv9jfkCFDxk0YZzjS2dJ0s7gqGTJkjGaQJI+Uo+m3aUGLwrEMGTKGMkhwJEgeNPldwS9lyJDxGEYtdNYOWPDnFlsCMmTIGMToJGe19C4tYoOWgwwZMh7ASOvBWlOTp4DBMQsZMmSMZuwqYvnhsFqJe3EtQ4aM0Yxd5WVtcy0NtahRKkOGjHEMkuTxdG1XII6TSxkyZIxmdCYlW2npdr8MGTJk8ICbbtMfy8HvTbfwWNIrQ4aMCYyUlNbHvLWZpokvAVeGDBlDGWR0WpV8Zl5CB0uXIUPGIEZ6hCs9+EUC97kcwfuWIUPGUAZ/ZA3QYccNURkyZIxj9A9VdMBpgL74B2TIkDGakaZrnaBcazZcvAIZMmSMZtS2vfimGG8S9KtUGTJkTGWc4eB3pZV0+iJermXIkDGa0QlzaarXXygvemXIkDGPkW6EbdsmCw9hXMwsQ4aMBzBqm2hkEWl5zA+FbOvBypAhYxCjkxR2DliglyhDhgwZYHFpO4EHXLSRJ0OGjAcwOs2A9EhZ2jZAhbEMGTJGM/oFZCe53NVskCFDxlDGDwg2x2VvtSYpAAAAAElFTkSuQmCC'>
        
          <img src="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/qrcode.png">
        
        </a>
      
    
  </div>
</div>



        
      
    </div>
  </section>


        
        
            <div class="prev-next">
                
                    <section class="prev">
                        <span class="art-item-left">
                            <h6><i class="fas fa-chevron-left" aria-hidden="true"></i>&nbsp;上一页</h6>
                            <h4>
                                <a href="/2020/06/11/A79-Pandas-01/" rel="prev" title="Python 数据分析三剑客之 Pandas（一）：认识 Pandas 及其 Series、DataFrame 对象">
                                  
                                      Python 数据分析三剑客之 Pandas（一）：认识 Pandas 及其 Series、DataFrame 对象
                                  
                                </a>
                            </h4>
                            
                                
                                <h6 class="tags">
                                    <a class="tag" href="/tags/Pandas/"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;Pandas</a> <a class="tag" href="/tags/Series/"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;Series</a> <a class="tag" href="/tags/DataFrame/"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;DataFrame</a>
                                </h6>
                            
                        </span>
                    </section>
                
                
                    <section class="next">
                        <span class="art-item-right" aria-hidden="true">
                            <h6>下一页&nbsp;<i class="fas fa-chevron-right" aria-hidden="true"></i></h6>
                            <h4>
                                <a href="/2020/06/08/A77-Matplotlib-10/" rel="prev" title="Python 数据分析三剑客之 Matplotlib（十）：3D 图的绘制">
                                    
                                        Python 数据分析三剑客之 Matplotlib（十）：3D 图的绘制
                                    
                                </a>
                            </h4>
                            
                                
                                <h6 class="tags">
                                    <a class="tag" href="/tags/Matplotlib/"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;Matplotlib</a> <a class="tag" href="/tags/3D图/"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;3D图</a>
                                </h6>
                            
                        </span>
                    </section>
                
            </div>
        
      </section>
    </article>
  

  
    <!-- 显示推荐文章和评论 -->



  <article class="post white-box comments">
    <section class="article typo">
      <h4><i class="fas fa-comments fa-fw" aria-hidden="true"></i>&nbsp;评论</h4>
      
      
      
        <section id="comments">
          <div id="gitalk-container"></div>
        </section>
      
      
    </section>
  </article>


  




<!-- 根据页面mathjax变量决定是否加载MathJax数学公式js -->



  <script>
    window.subData = {
      title: 'Python 数据分析三剑客之 Matplotlib（十一）：最常用最有价值的 50 个图表【译文】',
      tools: true
    }
  </script>


</div>
<aside class='l_side'>
  
    
    
      
        
          
          
            <section class='widget author'>
  <div class='content pure'>
    
      <div class='avatar'>
        <img class='avatar' src='https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.1.1/images/trhx.png'/>
      </div>
    
    
      <div class='text'>
        
          <h2>๑۩ﺴ&nbsp;&nbsp;TRHX&nbsp;&nbsp;ﺴ۩๑</h2>
        
        
        
      </div>
    
    <!-- 彩色滚动字体 -->
    <div id="binft" align="center"></div>
    <script>
      var binft = function (r) {
        function t() {
          return b[Math.floor(Math.random() * b.length)]
        }  
        function e() {
          return String.fromCharCode(94 * Math.random() + 33)
        }
        function n(r) {
          for (var n = document.createDocumentFragment(), i = 0; r > i; i++) {
            var l = document.createElement("span");
            l.textContent = e(), l.style.color = t(), n.appendChild(l)
          }
          return n
        }
        function i() {
          var t = o[c.skillI];
          c.step ? c.step-- : (c.step = g, c.prefixP < l.length ? (c.prefixP >= 0 && (c.text += l[c.prefixP]), c.prefixP++) : "forward" === c.direction ? c.skillP < t.length ? (c.text += t[c.skillP], c.skillP++) : c.delay ? c.delay-- : (c.direction = "backward", c.delay = a) : c.skillP > 0 ? (c.text = c.text.slice(0, -1), c.skillP--) : (c.skillI = (c.skillI + 1) % o.length, c.direction = "forward")), r.textContent = c.text, r.appendChild(n(c.prefixP < l.length ? Math.min(s, s + c.prefixP) : Math.min(s, t.length - c.skillP))), setTimeout(i, d)
        }
        var l = "",
        o = ["Stay Hungry, Stay Foolish!"].map(function (r) {
        return r + ""
        }),
        a = 2,
        g = 1,
        s = 5,
        d = 75,
        b = ["rgb(110,64,170)", "rgb(150,61,179)", "rgb(191,60,175)", "rgb(228,65,157)", "rgb(254,75,131)", "rgb(255,94,99)", "rgb(255,120,71)", "rgb(251,150,51)", "rgb(226,183,47)", "rgb(198,214,60)", "rgb(175,240,91)", "rgb(127,246,88)", "rgb(82,246,103)", "rgb(48,239,130)", "rgb(29,223,163)", "rgb(26,199,194)", "rgb(35,171,216)", "rgb(54,140,225)", "rgb(76,110,219)", "rgb(96,84,200)"],
        c = {
          text: "",
          prefixP: -s,
          skillI: 0,
          skillP: 0,
          direction: "forward",
          delay: a,
          step: g
        };
        i()
        };
        binft(document.getElementById('binft'));
    </script>
    
      <div class="social-wrapper">
        
          
            <a href="https://github.com/TRHX"
              class="social fab fa-github flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
          
            <a href="https://itrhx.blog.csdn.net/"
              class="social fab fa-cuttlefish flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
          
            <a href="https://www.zhihu.com/people/itrhx"
              class="social fab fa-zhihu flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
          
            <a href="mailto:admin@itrhx.com"
              class="social fas fa-envelope flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
          
            <a href="http://wpa.qq.com/msgrd?v=3&uin=2273902448&site=qq&menu=yes"
              class="social fab fa-qq flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
      </div>
    
  </div>
</section>

          
        
      
        
          
          
            
  <section class='widget toc-wrapper'>
    
<header class='pure'>
  <div><i class="fas fa-list fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;本文目录</div>
  
    <div class='wrapper'><a class="s-toc rightBtn" rel="external nofollow noopener noreferrer" href="javascript:void(0)"><i class="fas fa-thumbtack fa-fw"></i></a></div>
  
</header>

    <div class='content pure'>
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#【1x00】介绍（Introduction）"><span class="toc-text">【1x00】介绍（Introduction）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#【2x00】准备工作（Setup）"><span class="toc-text">【2x00】准备工作（Setup）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#【3x00】关联（Correlation）"><span class="toc-text">【3x00】关联（Correlation） </span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#【01】散点图（Scatter-plot）"><span class="toc-text">【01】散点图（Scatter plot）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【02】带边界的气泡图（Bubble-plot-with-Encircling）"><span class="toc-text">【02】带边界的气泡图（Bubble plot with Encircling）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【03】带线性回归最佳拟合线的散点图（Scatter-plot-with-linear-regression-line-of-best-fit）"><span class="toc-text">【03】带线性回归最佳拟合线的散点图（Scatter plot with linear regression line of best fit）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【04】抖动图（Jittering-with-stripplot）"><span class="toc-text">【04】抖动图（Jittering with stripplot）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【05】计数图（Counts-Plot）"><span class="toc-text">【05】计数图（Counts Plot）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【06】边缘直方图（Marginal-Histogram）"><span class="toc-text">【06】边缘直方图（Marginal Histogram）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【07】边缘箱形图（Marginal-Boxplot）"><span class="toc-text">【07】边缘箱形图（Marginal Boxplot）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【08】相关图（Correllogram）"><span class="toc-text">【08】相关图（Correllogram）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【09】成对图（Pairwise-Plot）"><span class="toc-text">【09】成对图（Pairwise Plot）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#【4x00】偏差（Deviation）"><span class="toc-text">【4x00】偏差（Deviation）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#【10】发散型条形图（Diverging-Bars）"><span class="toc-text">【10】发散型条形图（Diverging Bars）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【11】发散型文本图（Diverging-Texts）"><span class="toc-text">【11】发散型文本图（Diverging Texts）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【12】发散型散点图（Diverging-Dot-Plot）"><span class="toc-text">【12】发散型散点图（Diverging Dot Plot）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【13】带标记的发散型棒棒糖图（Diverging-Lollipop-Chart-with-Markers）"><span class="toc-text">【13】带标记的发散型棒棒糖图（Diverging Lollipop Chart with Markers）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【14】面积图（Area-Chart）"><span class="toc-text">【14】面积图（Area Chart）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#【5x00】排序（Ranking）"><span class="toc-text">【5x00】排序（Ranking）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#【15】有序条形图（Ordered-Bar-Chart）"><span class="toc-text">【15】有序条形图（Ordered Bar Chart）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【16】棒棒糖图（Lollipop-Chart）"><span class="toc-text">【16】棒棒糖图（Lollipop Chart）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【17】点图（Dot-Plot）"><span class="toc-text">【17】点图（Dot Plot）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【18】坡度图（Slope-Chart）"><span class="toc-text">【18】坡度图（Slope Chart）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【19】哑铃图（Dumbbell-Plot）"><span class="toc-text">【19】哑铃图（Dumbbell Plot）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#【6x00】分布（Distribution）"><span class="toc-text">【6x00】分布（Distribution）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#【20】连续变量的直方图（Histogram-for-Continuous-Variable）"><span class="toc-text">【20】连续变量的直方图（Histogram for Continuous Variable）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【21】分类变量的直方图（Histogram-for-Categorical-Variable）"><span class="toc-text">【21】分类变量的直方图（Histogram for Categorical Variable）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【22】密度图（Density-Plot）"><span class="toc-text">【22】密度图（Density Plot）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【23】直方图密度曲线（Density-Curves-with-Histogram）"><span class="toc-text">【23】直方图密度曲线（Density Curves with Histogram）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【24】山峰叠峦图-欢乐图（Joy-Plot）"><span class="toc-text">【24】山峰叠峦图 / 欢乐图（Joy Plot）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【25】分布式点图（Distributed-Dot-Plot）"><span class="toc-text">【25】分布式点图（Distributed Dot Plot）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【26】箱形图（Box-Plot）"><span class="toc-text">【26】箱形图（Box Plot）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【27】点-箱形图（Dot-Box-Plot）"><span class="toc-text">【27】点 + 箱形图（Dot + Box Plot）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【28】小提琴图（Violin-Plot）"><span class="toc-text">【28】小提琴图（Violin Plot）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【29】人口金字塔图（Population-Pyramid）"><span class="toc-text">【29】人口金字塔图（Population Pyramid）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【30】分类图（Categorical-Plots）"><span class="toc-text">【30】分类图（Categorical Plots）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#【7x00】组成（Composition）"><span class="toc-text">【7x00】组成（Composition）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#【31】华夫饼图（Waffle-Chart）"><span class="toc-text">【31】华夫饼图（Waffle Chart）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【32】饼图（Pie-Chart）"><span class="toc-text">【32】饼图（Pie Chart）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【33】矩阵树形图（Treemap）"><span class="toc-text">【33】矩阵树形图（Treemap）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【34】条形图（Bar-Chart）"><span class="toc-text">【34】条形图（Bar Chart）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#【8x00】变化（Change）"><span class="toc-text">【8x00】变化（Change）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#【35】时间序列图（Time-Series-Plot）"><span class="toc-text">【35】时间序列图（Time Series Plot）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【36】带波峰和波谷注释的时间序列图（Time-Series-with-Peaks-and-Troughs-Annotated）"><span class="toc-text">【36】带波峰和波谷注释的时间序列图（Time Series with Peaks and Troughs Annotated）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【37】自相关-ACF-和部分自相关-PACF-图（Autocorrelation-ACF-and-Partial-Autocorrelation-PACF-Plot）"><span class="toc-text">【37】自相关 (ACF) 和部分自相关 (PACF) 图（Autocorrelation (ACF) and Partial Autocorrelation (PACF) Plot）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【38】交叉相关图（Cross-Correlation-plot）"><span class="toc-text">【38】交叉相关图（Cross Correlation plot）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【39】时间序列分解图（Time-Series-Decomposition-Plot）"><span class="toc-text">【39】时间序列分解图（Time Series Decomposition Plot）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【40】多重时间序列（Multiple-Time-Series）"><span class="toc-text">【40】多重时间序列（Multiple Time Series）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【41】使用次要的-Y-轴来绘制不同范围的图形（Plotting-with-different-scales-using-secondary-Y-axis）"><span class="toc-text">【41】使用次要的 Y 轴来绘制不同范围的图形（Plotting with different scales using secondary Y axis）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【42】带误差带的时间序列（Time-Series-with-Error-Bands）"><span class="toc-text">【42】带误差带的时间序列（Time Series with Error Bands）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【43】堆积面积图（Stacked-Area-Chart）"><span class="toc-text">【43】堆积面积图（Stacked Area Chart）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【44】未堆积面积图（Area-Chart-UnStacked）"><span class="toc-text">【44】未堆积面积图（Area Chart UnStacked）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【45】日历热力图（Calendar-Heat-Map）"><span class="toc-text">【45】日历热力图（Calendar Heat Map）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【46】季节图（Seasonal-Plot）"><span class="toc-text">【46】季节图（Seasonal Plot）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#【9x00】分组（-Groups）"><span class="toc-text">【9x00】分组（ Groups）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#【47】树状图（Dendrogram）"><span class="toc-text">【47】树状图（Dendrogram）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【48】聚类图（Cluster-Plot）"><span class="toc-text">【48】聚类图（Cluster Plot）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【49】安德鲁斯曲线（Andrews-Curve）"><span class="toc-text">【49】安德鲁斯曲线（Andrews Curve）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#【50】平行坐标图（Parallel-Coordinates）"><span class="toc-text">【50】平行坐标图（Parallel Coordinates）</span></a></li></ol></li></ol>
    </div>
  </section>


          
        
      
        
          
          
            <section class='widget plain'>
  
<header class='pure'>
  <div><i class="fas fa-handshake fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;欢迎光临</div>
  
    <a class="rightBtn"
    
      rel="external nofollow noopener noreferrer"
    
    
      target="_blank"
    
    href="https://www.revolvermaps.com/"
    title="https://www.revolvermaps.com/">
    <i class="fas fa-info-circle fa-fw"></i></a>
  
</header>

  <div class='content pure'>
    <p><script type="text/javascript" src="//rf.revolvermaps.com/0/0/4.js?i=5eyl60h41k1&amp;m=6&amp;h=122&amp;c=ff0000&amp;r=30" async="async"></script><a id="goroups_button" class="goroups_button_new" target="_blank" href="https://jq.qq.com/?_wv=1027&k=5L7nNUS">Hexo QQ 交流群</a><a id="goroups_button" class="goroups_button_new" target="_blank" href="https://t.me/joinchat/Mro2h0uVt0DpDvOofWG65A">Telegram 交流群</a></p>

  </div>
</section>

          
        
      
        
          
          
            <section class='widget plain'>
  
<header class='pure'>
  <div><i class="fas fa-blog fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;CSDN 内容合伙人</div>
  
    <a class="rightBtn"
    
      rel="external nofollow noopener noreferrer"
    
    
      target="_blank"
    
    href="https://itrhx.blog.csdn.net/"
    title="https://itrhx.blog.csdn.net/">
    <i class="fas fa-info-circle fa-fw"></i></a>
  
</header>

  <div class='content pure'>
    <p><a href="https://itrhx.blog.csdn.net/" title="微信扫描二维码添加好友"><img src="https://img-blog.csdnimg.cn/20200610152107390.png"></a></p>

  </div>
</section>

          
        
      
        
          
          
            
  <section class='widget category'>
    
<header class='pure'>
  <div><i class="fas fa-folder-open fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;文章分类</div>
  
    <a class="rightBtn"
    
      rel="nofollow"
    
    
    href="/categories/"
    title="categories/">
    <i class="fas fa-expand-arrows-alt fa-fw"></i></a>
  
</header>

    <div class='content pure'>
      <ul class="entry">
        
          <li><a class="flat-box" title="/categories/BLOG/" href="/categories/BLOG/"><div class='name'>BLOG</div><div class='badge'>(4)</div></a></li>
        
          <li><a class="flat-box" title="/categories/CDN/" href="/categories/CDN/"><div class='name'>CDN</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/Hexo/" href="/categories/Hexo/"><div class='name'>Hexo</div><div class='badge'>(9)</div></a></li>
        
          <li><a class="flat-box" title="/categories/Java/" href="/categories/Java/"><div class='name'>Java</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/Linux/" href="/categories/Linux/"><div class='name'>Linux</div><div class='badge'>(2)</div></a></li>
        
          <li><a class="flat-box" title="/categories/Markdown/" href="/categories/Markdown/"><div class='name'>Markdown</div><div class='badge'>(2)</div></a></li>
        
          <li><a class="flat-box" title="/categories/Python-数据分析/" href="/categories/Python-数据分析/"><div class='name'>Python 数据分析</div><div class='badge'>(27)</div></a></li>
        
          <li><a class="flat-box child" title="/categories/Python-数据分析/Matplotlib/" href="/categories/Python-数据分析/Matplotlib/"><div class='name'>Matplotlib</div><div class='badge'>(11)</div></a></li>
        
          <li><a class="flat-box child" title="/categories/Python-数据分析/NumPy/" href="/categories/Python-数据分析/NumPy/"><div class='name'>NumPy</div><div class='badge'>(6)</div></a></li>
        
          <li><a class="flat-box child" title="/categories/Python-数据分析/Pandas/" href="/categories/Python-数据分析/Pandas/"><div class='name'>Pandas</div><div class='badge'>(10)</div></a></li>
        
          <li><a class="flat-box" title="/categories/Python-算法学习/" href="/categories/Python-算法学习/"><div class='name'>Python 算法学习</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/Python3-学习笔记/" href="/categories/Python3-学习笔记/"><div class='name'>Python3 学习笔记</div><div class='badge'>(41)</div></a></li>
        
          <li><a class="flat-box child" title="/categories/Python3-学习笔记/基础学习/" href="/categories/Python3-学习笔记/基础学习/"><div class='name'>基础学习</div><div class='badge'>(9)</div></a></li>
        
          <li><a class="flat-box child" title="/categories/Python3-学习笔记/学习经验/" href="/categories/Python3-学习笔记/学习经验/"><div class='name'>学习经验</div><div class='badge'>(4)</div></a></li>
        
          <li><a class="flat-box child" title="/categories/Python3-学习笔记/爬虫学习/" href="/categories/Python3-学习笔记/爬虫学习/"><div class='name'>爬虫学习</div><div class='badge'>(18)</div></a></li>
        
          <li><a class="flat-box child" title="/categories/Python3-学习笔记/爬虫实战/" href="/categories/Python3-学习笔记/爬虫实战/"><div class='name'>爬虫实战</div><div class='badge'>(10)</div></a></li>
        
          <li><a class="flat-box" title="/categories/VPS/" href="/categories/VPS/"><div class='name'>VPS</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/WEB前端/" href="/categories/WEB前端/"><div class='name'>WEB前端</div><div class='badge'>(2)</div></a></li>
        
          <li><a class="flat-box" title="/categories/图床/" href="/categories/图床/"><div class='name'>图床</div><div class='badge'>(1)</div></a></li>
        
      </ul>
    </div>
  </section>


          
        
      
        
          
          
            
  <section class='widget tagcloud'>
    
<header class='pure'>
  <div><i class="fas fa-fire fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;热门标签</div>
  
    <a class="rightBtn"
    
      rel="nofollow"
    
    
    href="/tags/"
    title="tags/">
    <i class="fas fa-expand-arrows-alt fa-fw"></i></a>
  
</header>

    <div class='content pure'>
      <a href="/tags/12306/" style="font-size: 14px; color: #999">12306</a> <a href="/tags/3D图/" style="font-size: 14px; color: #999">3D图</a> <a href="/tags/58同城/" style="font-size: 14px; color: #999">58同城</a> <a href="/tags/Ajax/" style="font-size: 14px; color: #999">Ajax</a> <a href="/tags/BLOG/" style="font-size: 15.43px; color: #8f8f8f">BLOG</a> <a href="/tags/Beautiful-Soup/" style="font-size: 14px; color: #999">Beautiful Soup</a> <a href="/tags/CDN/" style="font-size: 14px; color: #999">CDN</a> <a href="/tags/Coding-Pages/" style="font-size: 14px; color: #999">Coding Pages</a> <a href="/tags/DataFrame/" style="font-size: 14px; color: #999">DataFrame</a> <a href="/tags/Deepin/" style="font-size: 14px; color: #999">Deepin</a> <a href="/tags/Elicpse/" style="font-size: 14px; color: #999">Elicpse</a> <a href="/tags/GitHub-Pages/" style="font-size: 14px; color: #999">GitHub Pages</a> <a href="/tags/Github/" style="font-size: 14px; color: #999">Github</a> <a href="/tags/Github-Pages/" style="font-size: 14px; color: #999">Github Pages</a> <a href="/tags/GroupBy/" style="font-size: 14px; color: #999">GroupBy</a> <a href="/tags/HTTPS/" style="font-size: 15.43px; color: #8f8f8f">HTTPS</a> <a href="/tags/Hexo/" style="font-size: 19.71px; color: #727272">Hexo</a> <a href="/tags/ICP备案/" style="font-size: 14px; color: #999">ICP备案</a> <a href="/tags/IO操作/" style="font-size: 15.43px; color: #8f8f8f">IO操作</a> <a href="/tags/Index/" style="font-size: 14px; color: #999">Index</a> <a href="/tags/JDBC/" style="font-size: 14px; color: #999">JDBC</a> <a href="/tags/JS-预加载/" style="font-size: 14px; color: #999">JS 预加载</a> <a href="/tags/LaTeX/" style="font-size: 14px; color: #999">LaTeX</a> <a href="/tags/Markdown/" style="font-size: 15.43px; color: #8f8f8f">Markdown</a> <a href="/tags/Material-X/" style="font-size: 14px; color: #999">Material X</a> <a href="/tags/Matplotlib/" style="font-size: 22.57px; color: #5f5f5f">Matplotlib</a> <a href="/tags/MongoDB/" style="font-size: 14px; color: #999">MongoDB</a> <a href="/tags/MySQL/" style="font-size: 14px; color: #999">MySQL</a> <a href="/tags/NumPy/" style="font-size: 18.29px; color: #7c7c7c">NumPy</a> <a href="/tags/PEP8/" style="font-size: 14px; color: #999">PEP8</a> <a href="/tags/Pandas/" style="font-size: 21.14px; color: #686868">Pandas</a> <a href="/tags/PicGo/" style="font-size: 14px; color: #999">PicGo</a> <a href="/tags/Pygame/" style="font-size: 14px; color: #999">Pygame</a> <a href="/tags/Python/" style="font-size: 16.86px; color: #868686">Python</a> <a href="/tags/Redis/" style="font-size: 14px; color: #999">Redis</a> <a href="/tags/SEO/" style="font-size: 14px; color: #999">SEO</a> <a href="/tags/SQL-Server-2012/" style="font-size: 14px; color: #999">SQL Server 2012</a> <a href="/tags/SSR/" style="font-size: 14px; color: #999">SSR</a> <a href="/tags/Selenium/" style="font-size: 16.86px; color: #868686">Selenium</a> <a href="/tags/Series/" style="font-size: 14px; color: #999">Series</a> <a href="/tags/Ubuntu/" style="font-size: 14px; color: #999">Ubuntu</a> <a href="/tags/User-Agent/" style="font-size: 14px; color: #999">User-Agent</a> <a href="/tags/VMware/" style="font-size: 15.43px; color: #8f8f8f">VMware</a> <a href="/tags/VPS/" style="font-size: 14px; color: #999">VPS</a> <a href="/tags/XPath/" style="font-size: 14px; color: #999">XPath</a> <a href="/tags/if语句/" style="font-size: 14px; color: #999">if语句</a> <a href="/tags/input-函数/" style="font-size: 14px; color: #999">input()函数</a> <a href="/tags/instant-page/" style="font-size: 14px; color: #999">instant.page</a> <a href="/tags/jsDelivr/" style="font-size: 15.43px; color: #8f8f8f">jsDelivr</a> <a href="/tags/lxml/" style="font-size: 14px; color: #999">lxml</a> <a href="/tags/matplotibrc/" style="font-size: 14px; color: #999">matplotibrc</a> <a href="/tags/pyspider/" style="font-size: 15.43px; color: #8f8f8f">pyspider</a> <a href="/tags/requests/" style="font-size: 14px; color: #999">requests</a> <a href="/tags/spfk/" style="font-size: 14px; color: #999">spfk</a> <a href="/tags/urllib/" style="font-size: 14px; color: #999">urllib</a> <a href="/tags/while循环/" style="font-size: 14px; color: #999">while循环</a> <a href="/tags/主题个性化/" style="font-size: 14px; color: #999">主题个性化</a> <a href="/tags/代理/" style="font-size: 14px; color: #999">代理</a> <a href="/tags/位运算/" style="font-size: 14px; color: #999">位运算</a> <a href="/tags/公安备案/" style="font-size: 14px; color: #999">公安备案</a> <a href="/tags/函数/" style="font-size: 14px; color: #999">函数</a> <a href="/tags/函数应用/" style="font-size: 14px; color: #999">函数应用</a> <a href="/tags/分割/" style="font-size: 14px; color: #999">分割</a> <a href="/tags/切片/" style="font-size: 14px; color: #999">切片</a> <a href="/tags/列表/" style="font-size: 14px; color: #999">列表</a> <a href="/tags/判断函数/" style="font-size: 14px; color: #999">判断函数</a> <a href="/tags/前程无忧/" style="font-size: 14px; color: #999">前程无忧</a> <a href="/tags/变量/" style="font-size: 14px; color: #999">变量</a> <a href="/tags/合并数据集/" style="font-size: 14px; color: #999">合并数据集</a> <a href="/tags/哔哩哔哩/" style="font-size: 14px; color: #999">哔哩哔哩</a> <a href="/tags/图例/" style="font-size: 14px; color: #999">图例</a> <a href="/tags/图床/" style="font-size: 14px; color: #999">图床</a> <a href="/tags/图形验证码/" style="font-size: 14px; color: #999">图形验证码</a> <a href="/tags/垃圾/" style="font-size: 14px; color: #999">垃圾</a> <a href="/tags/备份/" style="font-size: 14px; color: #999">备份</a> <a href="/tags/子图/" style="font-size: 14px; color: #999">子图</a> <a href="/tags/字典/" style="font-size: 14px; color: #999">字典</a> <a href="/tags/字符串函数/" style="font-size: 14px; color: #999">字符串函数</a> <a href="/tags/安居客/" style="font-size: 14px; color: #999">安居客</a> <a href="/tags/层级索引/" style="font-size: 14px; color: #999">层级索引</a> <a href="/tags/年终总结/" style="font-size: 14px; color: #999">年终总结</a> <a href="/tags/广播/" style="font-size: 14px; color: #999">广播</a> <a href="/tags/异常/" style="font-size: 14px; color: #999">异常</a> <a href="/tags/技巧/" style="font-size: 14px; color: #999">技巧</a> <a href="/tags/拼接/" style="font-size: 14px; color: #999">拼接</a> <a href="/tags/排序/" style="font-size: 15.43px; color: #8f8f8f">排序</a> <a href="/tags/排序函数/" style="font-size: 14px; color: #999">排序函数</a> <a href="/tags/排序算法/" style="font-size: 14px; color: #999">排序算法</a> <a href="/tags/操作列表/" style="font-size: 14px; color: #999">操作列表</a> <a href="/tags/散点图/" style="font-size: 14px; color: #999">散点图</a> <a href="/tags/数学函数/" style="font-size: 14px; color: #999">数学函数</a> <a href="/tags/数据分裂/" style="font-size: 14px; color: #999">数据分裂</a> <a href="/tags/数据可视化/" style="font-size: 14px; color: #999">数据可视化</a> <a href="/tags/数据合并/" style="font-size: 14px; color: #999">数据合并</a> <a href="/tags/数据替换/" style="font-size: 14px; color: #999">数据替换</a> <a href="/tags/数据类型/" style="font-size: 14px; color: #999">数据类型</a> <a href="/tags/数据读写/" style="font-size: 14px; color: #999">数据读写</a> <a href="/tags/数据重塑/" style="font-size: 14px; color: #999">数据重塑</a> <a href="/tags/数组/" style="font-size: 15.43px; color: #8f8f8f">数组</a> <a href="/tags/文件/" style="font-size: 14px; color: #999">文件</a> <a href="/tags/文件储存/" style="font-size: 14px; color: #999">文件储存</a> <a href="/tags/无界面浏览器/" style="font-size: 14px; color: #999">无界面浏览器</a> <a href="/tags/时间序列/" style="font-size: 14px; color: #999">时间序列</a> <a href="/tags/映射/" style="font-size: 14px; color: #999">映射</a> <a href="/tags/条件函数/" style="font-size: 14px; color: #999">条件函数</a> <a href="/tags/条形图/" style="font-size: 14px; color: #999">条形图</a> <a href="/tags/极区图/" style="font-size: 14px; color: #999">极区图</a> <a href="/tags/极坐标图/" style="font-size: 14px; color: #999">极坐标图</a> <a href="/tags/柱状图/" style="font-size: 14px; color: #999">柱状图</a> <a href="/tags/模块/" style="font-size: 14px; color: #999">模块</a> <a href="/tags/正则表达式/" style="font-size: 14px; color: #999">正则表达式</a> <a href="/tags/滑动验证码/" style="font-size: 14px; color: #999">滑动验证码</a> <a href="/tags/点触验证码/" style="font-size: 14px; color: #999">点触验证码</a> <a href="/tags/爬虫/" style="font-size: 24px; color: #555">爬虫</a> <a href="/tags/猫眼电影/" style="font-size: 14px; color: #999">猫眼电影</a> <a href="/tags/瓜子二手车/" style="font-size: 14px; color: #999">瓜子二手车</a> <a href="/tags/画布/" style="font-size: 14px; color: #999">画布</a> <a href="/tags/直方图/" style="font-size: 14px; color: #999">直方图</a> <a href="/tags/矩阵/" style="font-size: 14px; color: #999">矩阵</a> <a href="/tags/等值线图/" style="font-size: 14px; color: #999">等值线图</a> <a href="/tags/等高线图/" style="font-size: 14px; color: #999">等高线图</a> <a href="/tags/算术函数/" style="font-size: 14px; color: #999">算术函数</a> <a href="/tags/算术运算/" style="font-size: 14px; color: #999">算术运算</a> <a href="/tags/算法/" style="font-size: 14px; color: #999">算法</a> <a href="/tags/类/" style="font-size: 14px; color: #999">类</a> <a href="/tags/索引/" style="font-size: 15.43px; color: #8f8f8f">索引</a> <a href="/tags/线性代数/" style="font-size: 14px; color: #999">线性代数</a> <a href="/tags/线性图/" style="font-size: 14px; color: #999">线性图</a> <a href="/tags/统计函数/" style="font-size: 14px; color: #999">统计函数</a> <a href="/tags/统计描述/" style="font-size: 14px; color: #999">统计描述</a> <a href="/tags/统计计算/" style="font-size: 14px; color: #999">统计计算</a> <a href="/tags/继承/" style="font-size: 14px; color: #999">继承</a> <a href="/tags/编辑器/" style="font-size: 14px; color: #999">编辑器</a> <a href="/tags/缺失值/" style="font-size: 14px; color: #999">缺失值</a> <a href="/tags/网格/" style="font-size: 14px; color: #999">网格</a> <a href="/tags/肺炎疫情/" style="font-size: 14px; color: #999">肺炎疫情</a> <a href="/tags/虎扑论坛/" style="font-size: 14px; color: #999">虎扑论坛</a> <a href="/tags/补丁/" style="font-size: 14px; color: #999">补丁</a> <a href="/tags/豆瓣电影/" style="font-size: 14px; color: #999">豆瓣电影</a> <a href="/tags/迭代/" style="font-size: 14px; color: #999">迭代</a> <a href="/tags/雷达图/" style="font-size: 14px; color: #999">雷达图</a> <a href="/tags/饼状图/" style="font-size: 14px; color: #999">饼状图</a>
    </div>
  </section>

          
        
      
        
          
          
            


  <section class='widget music'>
    
<header class='pure'>
  <div><i class="fas fa-compact-disc fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;最近在听</div>
  
    <a class="rightBtn"
    
      rel="external nofollow noopener noreferrer"
    
    
      target="_blank"
    
    href="https://music.163.com/#/user/home?id=3019271605"
    title="https://music.163.com/#/user/home?id=3019271605">
    <i class="far fa-heart fa-fw"></i></a>
  
</header>

    <div class='content pure'>
      
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.7.0/dist/APlayer.min.css">
  <div class="aplayer"
    data-theme="#1BCDFC"
    
    
    data-mode="circulation"
    data-server="netease"
    data-type="playlist"
    data-id="3019271605"
    data-volume="0.7">
  </div>
  <script src="https://cdn.jsdelivr.net/npm/aplayer@1.7.0/dist/APlayer.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/meting@1.1.0/dist/Meting.min.js"></script>


    </div>
  </section>


          
        
      
    

  
</aside>

<footer id="footer" class="clearfix">
    
    
      <div class="social-wrapper">
        
          
            <a href="https://github.com/TRHX"
              class="social fab fa-github flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
          
            <a href="https://itrhx.blog.csdn.net/"
              class="social fab fa-cuttlefish flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
          
            <a href="https://www.zhihu.com/people/itrhx"
              class="social fab fa-zhihu flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
          
            <a href="mailto:admin@itrhx.com"
              class="social fas fa-envelope flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
          
            <a href="http://wpa.qq.com/msgrd?v=3&amp;uin=2273902448&amp;site=qq&amp;menu=yes"
              class="social fab fa-qq flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
      </div>
    
    <br>
    Copyright <i class="far fa-copyright"></i> 2018-2021
    <a href="https://www.itrhx.com/" target="_blank"> TRHX&#39;S BLOG </a>丨
    <img src="https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.0.9/images/icp.png" style="width:18px;height:18px;margin-bottom:-2px" alt="ICP">
    <a href="https://beian.miit.gov.cn/" target="_blank">鄂ICP备19003281号-4</a>丨
    <!-- 萌ICP
    <img src="https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.0.9/images/moeicp.png" style="width:18px;height:18px;margin-bottom:-3px" alt="MOE ICP">
    <a href="https://icp.gov.moe/" target="_blank">萌ICP备20202022号</a>丨-->
    <!-- 网站运行时间 -->
    <span id="timeDate">正在载入...</span><span id="times"><span><i class="fa fa-spinner fa-spin"> </i></span></span>
    <script>
    var now = new Date(); 
    function createtime() {
      var grt= new Date("08/10/2018 17:38:00");//建站时间2018-08-10
      now.setTime(now.getTime()+250); 
      days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
      hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
      if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
      mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
      seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
      snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
      document.getElementById("timeDate").innerHTML = "本站已运行 "
      document.getElementById("times").innerHTML = dnum +" 天 " + hnum + " 小时 " + mnum + " 分 " + snum + " 秒"; 
      /*document.getElementById("times").style.color="#0056FF";*/
      }
      setInterval("createtime()",250);
    </script>丨
    <!--<a href="/sitemap.xml" target="_blank">站点地图</a>丨-->
    <a href="https://tongji.baidu.com/web/welcome/ico?s=df0bc7c6bdbd80356ba4db429724ccad" target="_blank">百度统计</a>丨
    <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? "https://" : "http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1275909280'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s23.cnzz.com/z_stat.php%3Fid%3D1275909280%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script><br><br>
    <div class="github-badge">
      <a style="color: #fff" rel="license" href="https://hexo.io/" target="_blank" title="由 Hexo 强力驱动">
      <span class="badge-subject">Powered</span><span class="badge-value bg-blue">Hexo</span></a>
    </div>
    <div class="github-badge">
      <a style="color: #fff" rel="license" href="https://github.com/" target="_blank" title="静态网页托管于 GitHub Pages 和 Coding Pages">
      <span class="badge-subject">Hosted</span><span class="badge-value bg-brightgreen">GitHub & Coding</span></a>
    </div>
    <div class="github-badge">
      <a style="color: #fff" rel="license" href="https://www.aliyun.com/" target="_blank" title="阿里云提供域名相关服务">
      <span class="badge-subject">DNS</span><span class="badge-value bg-blueviolet">Aliyun</span></a>
    </div>
    <div class="github-badge">
      <a style="color: #fff" rel="license" href="https://www.jsdelivr.com/" target="_blank" title="jsDelivr 提供 CDN 加速服务">
      <span class="badge-subject">CDN</span><span class="badge-value bg-orange">jsDelivr</span></a>
    </div>
    <div class="github-badge">
        <a style="color: #fff" rel="license" href="https://xaoxuu.com/wiki/material-x/" target="_blank" title="站点使用 Material X 主题">
      <span class="badge-subject">Theme</span><span class="badge-value bg-blue">Material X</span></a>
    </div>
    <div class="github-badge">
      <a style="color: #fff" rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="本站点采用知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议进行许可">
      <span class="badge-subject"><i class="fa fa-copyright"></i></span><span class="badge-value bg-lightgrey">BY-NC-SA 4.0</span></a>
    </div>
    <div class="github-badge">
      <a style="color: #fff" rel="license" href="https://996.icu/" target="_blank" title="支持 996.ICU">
      <span class="badge-subject">Link</span><span class="badge-value bg-red">996.ICU</span></a>
    </div>
    <div class="github-badge">
      <span class="badge-subject">UV</span><span class="badge-value bg-orange" id="busuanzi_value_site_uv"></span>
    </div>
    <div class="github-badge">
      <span class="badge-subject">PV</span><span class="badge-value bg-brightgreen" id="busuanzi_value_site_pv"></span>
    </div>
    <div class="github-badge">
      <span class="badge-subject">WordCount</span><span class="badge-value bg-blueviolet">299.2k</span>
    </div>
</footer>


      <script>setLoadingBarProgress(60);</script>
    </div>
    <a class="s-top fas fa-arrow-up fa-fw" href='javascript:void(0)'></a>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>

  <script>
    var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
    var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
    var ALGOLIA_API_KEY = "";
    var ALGOLIA_APP_ID = "";
    var ALGOLIA_INDEX_NAME = "";
    var AZURE_SERVICE_NAME = "";
    var AZURE_INDEX_NAME = "";
    var AZURE_QUERY_KEY = "";
    var BAIDU_API_ID = "";
    var SEARCH_SERVICE = "hexo" || "hexo";
    var ROOT = "/"||"/";
    if(!ROOT.endsWith('/'))ROOT += '/';
  </script>

<script src="//instant.page/1.2.2" type="module" integrity="sha384-2xV8M5griQmzyiY3CDqh1dn4z3llDVqZDqzjzcY+jCBCk/a5fXJmuZ/40JJAPeoU"></script>


  <script async src="https://cdn.jsdelivr.net/npm/scrollreveal@4.0.5/dist/scrollreveal.min.js"></script>
  <script type="text/javascript">
    $(function() {
      const $reveal = $('.reveal');
      if ($reveal.length === 0) return;
      const sr = ScrollReveal({ distance: 0 });
      sr.reveal('.reveal');
    });
  </script>


  <script src="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.js"></script>
  <script type="text/javascript">
    $(function() {
      Waves.attach('.flat-btn', ['waves-button']);
      Waves.attach('.float-btn', ['waves-button', 'waves-float']);
      Waves.attach('.float-btn-light', ['waves-button', 'waves-float', 'waves-light']);
      Waves.attach('.flat-box', ['waves-block']);
      Waves.attach('.float-box', ['waves-block', 'waves-float']);
      Waves.attach('.waves-image');
      Waves.init();
    });
  </script>


  <script async src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-busuanzi@2.3/js/busuanzi.pure.mini.js"></script>










  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
  <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
  <script src="https://cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.min.js"></script>
  <script type="text/javascript">
    var gitalk = new Gitalk({
      clientID: "d19a84b9d9a2ddb2c6b9",
      clientSecret: "cec9feae5129a6106edc68ce06d167be8eb06021",
      repo: "trhx.github.io",
      owner: "TRHX",
      admin: "TRHX",
      
        id: md5(location.pathname),      // Ensure uniqueness and length less than 50
      
      distractionFreeMode: false  // Facebook-like distraction free mode
    });
    gitalk.render('gitalk-container');
  </script>





  <script src="https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.1.1/js/app.js"></script>


  <script src="https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.1.1/js/search.js"></script>




<!-- 复制 -->
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  let COPY_SUCCESS = "复制成功";
  let COPY_FAILURE = "复制失败";
  /*页面载入完成后，创建复制按钮*/
  !function (e, t, a) {
    /* code */
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '  <i class="fa fa-copy"></i><span>复制</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });

      clipboard.on('success', function(e) {
        //您可以加入成功提示
        console.info('Action:', e.action);
        console.info('Text:', e.text);
        console.info('Trigger:', e.trigger);
        success_prompt(COPY_SUCCESS);
        e.clearSelection();
      });
      clipboard.on('error', function(e) {
        //您可以加入失败提示
        console.error('Action:', e.action);
        console.error('Trigger:', e.trigger);
        fail_prompt(COPY_FAILURE);
      });
    }
    initCopyCode();

  }(window, document);

  /**
   * 弹出式提示框，默认1.5秒自动消失
   * @param message 提示信息
   * @param style 提示样式，有alert-success、alert-danger、alert-warning、alert-info
   * @param time 消失时间
   */
  var prompt = function (message, style, time)
  {
      style = (style === undefined) ? 'alert-success' : style;
      time = (time === undefined) ? 1500 : time*1000;
      $('<div>')
          .appendTo('body')
          .addClass('alert ' + style)
          .html(message)
          .show()
          .delay(time)
          .fadeOut();
  };

  // 成功提示
  var success_prompt = function(message, time)
  {
      prompt(message, 'alert-success', time);
  };

  // 失败提示
  var fail_prompt = function(message, time)
  {
      prompt(message, 'alert-danger', time);
  };

  // 提醒
  var warning_prompt = function(message, time)
  {
      prompt(message, 'alert-warning', time);
  };

  // 信息提示
  var info_prompt = function(message, time)
  {
      prompt(message, 'alert-info', time);
  };

</script>


<!-- fancybox -->
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
<script>
  let LAZY_LOAD_IMAGE = "";
  $(".article-entry").find("fancybox").find("img").each(function () {
      var element = document.createElement("a");
      $(element).attr("data-fancybox", "gallery");
      $(element).attr("href", $(this).attr("src"));
      /* 图片采用懒加载处理时,
       * 一般图片标签内会有个属性名来存放图片的真实地址，比如 data-original,
       * 那么此处将原本的属性名src替换为对应属性名data-original,
       * 修改如下
       */
       if (LAZY_LOAD_IMAGE) {
         $(element).attr("href", $(this).attr("data-original"));
       }
      $(this).wrap(element);
  });
</script>





  <script>setLoadingBarProgress(100);</script>
  <!-- 单击显示文字 -->
  <!-- <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.0.8/js/ClickShowText.js"></script> -->
  <!-- 点击冒点 -->
  <canvas width="1777" height="841" style="position: fixed; left: 0px; top: 0px; z-index: 2147483647; pointer-events: none;"></canvas><script src="https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.0.8/js/maodian.js"></script>
  <!-- 浏览器搞笑标题 -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.0.8/js/FunnyTitle.js"></script>
  <!-- 样式一（鼠标点击更换样式） -->
  <!--<script src="https://g.joyinshare.com/hc/ribbon.min.js" type="text/javascript"></script>-->
  <!-- 样式二（飘动的彩带） -->
  <!--<script src="https://g.joyinshare.com/hc/piao.js" type="text/javascript"></script>-->
  <!-- 数字雨 -->
  <canvas id="canvas" width="1920" height="1080"></canvas>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.0.8/js/DigitalRain.js"></script>
  <!--动态线条背景-->
  <!--<script type="text/javascript" color="27,195,251" opacity='0.7' zIndex="-5" count="200" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>-->
  <!-- 速度优化脚本 -->
  <script src="https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.0.8/js/instantclick-1.2.2.js" type="module"></script>
  <!-- 悟空 -->
  <!--<div id="wukong"><marquee direction="right"><img src="https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.0.8/images/wukong.gif"></marquee></div>-->
  <!-- 雪花 -->
  <!--<script src="https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.0.8/js/snow1.js"></script> -->
</body>
</html>
